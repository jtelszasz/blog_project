<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Guess What Time Justin Wakes Up &#8211; The Training Set.</title>
<meta name="description" content="Exploring smart meter data from BGE.">
<meta name="keywords" content="BGE, smart-meters, energy, data, electricity">

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://www.thetrainingset.com/images/">
<meta name="twitter:title" content="Guess What Time Justin Wakes Up">
<meta name="twitter:description" content="Exploring smart meter data from BGE.">
<meta name="twitter:creator" content="@jtelszasz">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Guess What Time Justin Wakes Up">
<meta property="og:description" content="Exploring smart meter data from BGE.">
<meta property="og:url" content="http://www.thetrainingset.com/articles/Guess-What-Time-Justin-Wakes-Up">
<meta property="og:site_name" content="The Training Set.">





<link rel="canonical" href="http://www.thetrainingset.com/articles/Guess-What-Time-Justin-Wakes-Up">
<link href="http://www.thetrainingset.com/feed.xml" type="application/atom+xml" rel="alternate" title="The Training Set. Feed">


<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="http://www.thetrainingset.com/assets/css/main.min.css">
<!-- Webfonts -->
<link href="http://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel="stylesheet" type="text/css">

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="http://www.thetrainingset.com/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://www.thetrainingset.com/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://www.thetrainingset.com/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://www.thetrainingset.com/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://www.thetrainingset.com/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://www.thetrainingset.com/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://www.thetrainingset.com/images/apple-touch-icon-144x144-precomposed.png">



</head>

<body id="post" >

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
<nav id="dl-menu" class="dl-menuwrapper" role="navigation">
	<button class="dl-trigger">Open Menu</button>
	<ul class="dl-menu">
		<li><a href="http://www.thetrainingset.com">Home</a></li>
		<li>
			<a href="#">About</a>
			<ul class="dl-submenu">
				<li>
					<img src="http://www.thetrainingset.com/images/bio-photo.jpg" alt="Justin Elszasz photo" class="author-photo">
					<h4>Justin Elszasz</h4>
					<p>Engineering background, indeterminate foreground.</p>
				</li>
				<li><a href="http://www.thetrainingset.com/about/">Learn More</a></li>
				<li>
					<a href="mailto:thetrainingset@gmail.com"><i class="fa fa-envelope"></i> Email</a>
				</li>
				<li>
					<a href="http://twitter.com/jtelszasz"><i class="fa fa-twitter"></i> Twitter</a>
				</li>
				
				
				<li>
					<a href="http://linkedin.com/in/justinelszasz"><i class="fa fa-linkedin"></i> LinkedIn</a>
				</li>
				<li>
					<a href="http://github.com/jtelszasz"><i class="fa fa-github"></i> GitHub</a>
				</li>
				
				
				
				
			</ul><!-- /.dl-submenu -->
		</li>
		<li>
			<a href="#">Posts</a>
			<ul class="dl-submenu">
				<li><a href="http://www.thetrainingset.com/posts/">All Posts</a></li>
				<li><a href="http://www.thetrainingset.com/tags/">All Tags</a></li>
			</ul>
		</li>
		<li><a href="http://www.thetrainingset.com/the-work/">The Work</a></li><li><a href="http://www.thetrainingset.com/my-elec-use/">My Electricity Use</a></li><li><a href="http://www.thetrainingset.com/subscribe/">Subscribe</a></li>
	</ul><!-- /.dl-menu -->
</nav><!-- /.dl-menuwrapper -->




<div id="main" role="main">
  <article class="hentry">
    <header class="header-title">
      <div class="header-title-wrap">
        
          <h1 class="entry-title"><a href="http://www.thetrainingset.com/articles/Guess-What-Time-Justin-Wakes-Up" rel="bookmark" title="Guess What Time Justin Wakes Up">Guess What Time Justin Wakes Up</a></h1>
        
        <h2>April 16, 2014</h2>
        
      </div><!-- /.header-title-wrap -->
    </header>
    <div class="entry-content">
      <p>First, a little bit on my tools.</p>

<p>For analysis tools, I’m mainly using Python (in the form of iPython notebooks) with the <a href="http://pandas.pydata.org/">Pandas</a> module for data analysis (the sklearn module for machine learning later). Suffice it to say it’s rad.  I also use <a href="https://github.com/jtelszasz">Github</a>, both for my analysis and modeling as well as this blog itself (as you can tell from the current web address), so you’re welcome to peruse or use any of my code from there.  I’ll try to keep my iPython notebooks pretty clean and explained well as a supplement to the blog.  You can find the notebook for the analysis below <a href="http://nbviewer.ipython.org/github/jtelszasz/my_energy/blob/master/My_Energy.ipynb?create=1">here</a>.  (Just click the link - you don’t need anything special to be able to view the notebook.)</p>

<p>Pandas has been great for data analysis and makes things intuitive and quick.  As a mechanical engineer, a lot of my previous work was in Matlab.  It of course has its strengths but for data analysis it always took quite a bit of manual data munging, especially when it came to time series. </p>

<p>Anyways, using the Python groupby function I can manipulate the time series of my hourly electricity consumption from my BGE smart data.  The data starts from January 18 and I now have a few full months of data.  Below is a quick code snipet of how I’m using groupby in this case.</p>

<div class="highlight"><pre><code class="language-python" data-lang="python"><span class="c"># elec_and_weather: hourly electricity usage</span>
<span class="n">elec_and_weather</span><span class="o">.</span><span class="n">groupby</span><span class="p">([(</span><span class="n">elec_and_weather</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">dayofweek</span><span class="o">==</span><span class="mi">5</span><span class="p">)</span><span class="o">|</span><span class="p">(</span><span class="n">elec_and_weather</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">dayofweek</span><span class="o">==</span><span class="mi">6</span><span class="p">),</span><span class="n">elec_and_weather</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">hour</span><span class="p">])</span></code></pre></div>

<h3 id="the-correct-answer-is">The correct answer is…</h3>

<p>To arrive at the plot below, I actually first sliced the data by month and then applied the groupby shown above.</p>

<center>
<figure>
  <a href="http://www.thetrainingset.com/images/2014-04/AvgDays_Elec_Feb_March.png"><img src="http://www.thetrainingset.com/images/2014-04/AvgDays_Elec_Feb_March.png" /></a>
  <figcaption>Average weekday and weekend electricity consumption for February and March of 2014.</figcaption>
</figure>
</center>

<p>This is the “guess what time Justin wakes up for work” plot. The coffee pot consumes 900 W, and we typically have it on for about 20 minutes or so, which would amount to a spike of .3 kWh for that hour. The roommate’s hair dryer consumes 1,875 W and she uses it for about 5 minutes (so she claims, I think I want to see data for that), so that would make for about a .15 kWh spike. Of course that’s what I think a typical day looks like. Not every weekday looked like that (if I worked from home, I probably used the french press instead of the coffee maker, and sometimes the roommate showers the night before and so doesn’t blow dry the hair in the morn). Therefore, the 6am peak in the weekday averages is not quite that high. </p>

<p>Since this spike should be strictly due to behavior, we don’t need to look at the difference between February and March.  We can look at the 5am-6am difference over all the weekday samples thusly:</p>

<center>
<figure>
  <a href="http://www.thetrainingset.com/images/2014-04/Wkday_5am6amDiff - Feb_March.png"><img src="http://www.thetrainingset.com/images/2014-04/Wkday_5am6amDiff - Feb_March.png" /></a>
  <figcaption>5am to 6am difference across all weekday samples.</figcaption>
</figure>
</center>

<p>The average weekday difference over this time period between 5am and 6am is .253 kWh.  The 20 minute coffee maker run and the 5 minute blow dryer would amount to .45 kWh.  Looks like that was the case at least a couple of times.</p>

<p>This is a good illustration of privacy concerns around ubiquitous data capture.  Measuring energy consumption is a proxy for measuring human behavior, and while I don’t share a lot of the privacy concerns that many out there do, I can understand why this is problematic.  Suffice it to say, I don’t care that a reader of this blog (are there any?) knows when I wake up (among other things).  Moreover, at larger scales than individual households - say at city block levels - these concerns should start to fade away, as aggregated data can effectively anonymize the information.  </p>


      <footer class="entry-meta">
        <span class="entry-tags"><a href="http://www.thetrainingset.com/tags/#BGE" title="Pages tagged BGE" class="tag">BGE</a><a href="http://www.thetrainingset.com/tags/#smart-meters" title="Pages tagged smart-meters" class="tag">smart-meters</a><a href="http://www.thetrainingset.com/tags/#energy" title="Pages tagged energy" class="tag">energy</a><a href="http://www.thetrainingset.com/tags/#data" title="Pages tagged data" class="tag">data</a><a href="http://www.thetrainingset.com/tags/#electricity" title="Pages tagged electricity" class="tag">electricity</a></span>
        <span><a href="http://www.thetrainingset.com/articles/Guess-What-Time-Justin-Wakes-Up" rel="bookmark" title="Guess What Time Justin Wakes Up">Guess What Time Justin Wakes Up</a> was published on <span class="entry-date date published updated"><time datetime="2014-04-16T00:00:00-04:00">April 16, 2014</time></span></span>
        (revised: <span class="entry-date date modified"><time datetime="2014-04-16">04/16/2014</time></span>)
        <span class="author vcard"><span class="fn"><a href="http://www.thetrainingset.com/about/" title="About Justin Elszasz">Justin Elszasz</a></span></span>
        
      </footer>
    </div><!-- /.entry-content -->
    
    
    <div class="read-more">
      
        <div class="read-more-header">
          <a href="http://www.thetrainingset.com/articles/My-BGE-Smart-Meter-Data" class="read-more-btn">Read More</a>
        </div><!-- /.read-more-header -->
        <div class="read-more-content">
          <h3><a href="http://www.thetrainingset.com/articles/Upcoming-Events-You-Should-Attend" title="Upcoming Events You Should Check Out">Upcoming Events You Should Check Out</a></h3>
          <p>I'll be giving a couple of public talks about my work on this website. <a href="http://www.thetrainingset.com/articles/Upcoming-Events-You-Should-Attend">Continue reading</a></p>
        </div><!-- /.read-more-content -->
      
      <div class="read-more-list">
        
          <div class="list-item">
            <h4><a href="http://www.thetrainingset.com/articles/This-Is-What-We-Pay-Officers-Who-Arrested-Freddie-Gray" title="This is How Much We Paid Officers Involved in the Freddie Gray Debacle">This is How Much We Paid Officers Involved in the Freddie Gray Debacle</a></h4>
            <span>Published on April 26, 2015</span>
          </div><!-- /.list-item -->
        
          <div class="list-item">
            <h4><a href="http://www.thetrainingset.com/articles/Verizon-Wireless-Calculator" title="Verizon Wireless Cost Estimation">Verizon Wireless Cost Estimation</a></h4>
            <span>Published on April 24, 2015</span>
          </div><!-- /.list-item -->
        
      </div><!-- /.read-more-list -->
      
    </div><!-- /.read-more -->
  </article>
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2015 Justin Elszasz. Powered by <a href="http://jekyllrb.com">Jekyll</a> using the <a href="http://mademistakes.com/hpstr/">HPSTR Theme</a>.</span>
  </footer>
</div><!-- /.footer-wrapper -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://www.thetrainingset.com/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://www.thetrainingset.com/assets/js/scripts.min.js"></script>

<!-- Asynchronous Google Analytics snippet -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-58835878-1', 'auto');  
  ga('require', 'linkid', 'linkid.js');
  ga('send', 'pageview');
</script>

	        

</body>
</html>
