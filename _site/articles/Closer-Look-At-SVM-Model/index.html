<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Closer Look at the Electricity SVR Forecast &#8211; The Training Set</title>
<meta name="description" content="Inspecting the model's accuracy.">
<meta name="keywords" content="machine-learning, smart-meters, predictive-analytics, electricity, demand-side, support-vector-machine">


<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Closer Look at the Electricity SVR Forecast">
<meta property="og:description" content="Inspecting the model's accuracy.">
<meta property="og:url" content="http://localhost:4000/articles/Closer-Look-At-SVM-Model">
<meta property="og:site_name" content="The Training Set">





<link rel="canonical" href="http://localhost:4000/articles/Closer-Look-At-SVM-Model">
<link href="http://localhost:4000/feed.xml" type="application/atom+xml" rel="alternate" title="The Training Set Feed">


<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Google Webfonts -->
<link href='http://fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700|PT+Serif:400,700,400italic' rel='stylesheet' type='text/css'>
<!-- For all browsers -->
<link rel="stylesheet" href="http://localhost:4000/assets/css/main.min.css">

<!--[if (lt IE 9) & (!IEMobile)]>
<link rel="stylesheet" href="http://localhost:4000/assets/css/ie.min.css">
<![endif]-->

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="http://localhost:4000/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://localhost:4000/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://localhost:4000/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://localhost:4000/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://localhost:4000/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://localhost:4000/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://localhost:4000/images/apple-touch-icon-144x144-precomposed.png">

</head>

<body class="article" itemscope itemtype="http://schema.org/WebPage">

<!--[if lt IE 9]><div class="browser-upgrade alert alert-info">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]-->

<div class="navigation-wrapper">
	<div class="site-name">
		<a href="http://localhost:4000">The Training Set</a>
	</div><!-- /.site-name -->
	<div class="top-navigation">
		<nav role="navigation" itemscope itemtype="http://schema.org/SiteNavigationElement">
		    <ul>
		        
				<li><a href="http://localhost:4000/about/" >About</a></li>
		        
				<li><a href="http://localhost:4000/articles/" >Articles</a></li>
		        
				<li><a href="http://localhost:4000/the-work/" >The Work</a></li>
		        
		        <li><i class="icon-feed"></i> <a href="http://localhost:4000/feed.xml" title="Atom/RSS feed">Feed</a>
		    </ul>
		</nav>
	</div><!-- /.top-navigation -->
</div><!-- /.navigation-wrapper -->

<div class="image-wrap">
  <img src="http://localhost:4000/images/texture-feature-03.jpg" alt="Closer Look at the Electricity SVR Forecast feature image" itemprop="primaryImageOfPage">
  <span class="image-credit">Photo Credit: <a href="http://texturelovers.com">Texture Lovers</a></span>
</div><!-- /.image-wrap -->

<div id="main" role="main" itemprop="mainContentOfPage" itemscope itemtype="http://schema.org/Blog">
  <div class="article-author-side">
    <!--<img src="http://localhost:4000/images/" class="bio-photo" alt="Justin Elszasz bio photo"></a>-->
<h3>Justin Elszasz</h3>
<p>Engineering background, indeterminate foreground.</p>

<a href="http://facebook.com/jtelszasz" class="author-social" target="_blank"><i class="icon-facebook"></i> Facebook</a>

<a href="http://linkedin.com/in/justinelszasz" class="author-social" target="_blank"><i class="icon-linkedin"></i> LinkedIn</a>

<a href="http://github.com/jtelszasz" class="author-social" target="_blank"><i class="icon-github"></i> Github</a>


  </div>
  <article itemscope itemtype="http://schema.org/BlogPosting" itemprop="blogPost">
    <div class="headline-wrap">
      <h1 itemprop="name">Closer Look at the Electricity SVR Forecast</h1>
      <h2></h2>
    </div><!--/ .headline-wrap -->
    <div class="article-wrap" itemprop="text">
      <section id="table-of-contents" class="toc">
  <header>
    <h3>Contents</h3>
  </header>
<div id="drawer">
<ul id="markdown-toc">
  <li><a href="#accuracy-measures">Accuracy Measures</a>    <ul>
      <li><a href="#root-mean-sqaure-error">Root Mean Sqaure Error</a></li>
      <li><a href="#mape">MAPE</a></li>
      <li><a href="#cv">CV</a></li>
      <li><a href="#mean-bias-error">Mean Bias Error</a></li>
    </ul>
  </li>
</ul>

  </div>
</section>
<!-- /#table-of-contents -->

<p>In the <a href="http://localhost:4000/articles/Predicting-Energy-Use-with-Support-Vector-Machines">previous post</a> I trained a support vector machine model using electricity demand data.  The data I’m using are hourly electricity consumption in my apartment between January 18 and March 31, 2014, measured by a smart meter and provided by BGE. The following plot is a closer look at the predicted demand and actual demand over two days from the testing period.</p>

<figure>
  <a href="http://localhost:4000/images/SVM_predict_TS_zoom.png"><img src="http://localhost:4000/images/SVM_predict_TS_zoom.png" /></a>
  <figcaption>Predicted (SVR, next-hour) and actual hourly electricity usage, March 25 and 26.</figcaption>
</figure>

<p>It looks like, with some exceptions, the prediction is generally one hour behind what the actual electricity demand is doing, especially looking at most of the peaks.  At first I thought (hoped) that this was an issue with how I was date indexing the predicted values after calculating them (assigning a timestamp one hour behind what it should have been). But after closer inspection and thinking about it, this actually makes sense.  In the post on <a href="http://localhost:4000/articles/Autocorrelation">autocorrelation</a> I showed the following lag plot: </p>

<figure>
  <a href="http://localhost:4000/images/Elec_Lag_1hour.png"><img src="http://localhost:4000/images/Elec_Lag_1hour.png" /></a>
  <figcaption>Lag plot, 1 hour.</figcaption>
</figure>

<p>The slope of the linear fit is about 0.97 and the constant (y-intercept) is about 0.04.  In other words, the ratio between any hour’s electricity demand and the hour previous is about one.  So unless the time of day or workday-non-workday indicator is influential at any hour, the model will likely just predict the next hour to be the same as the current hour demand.  This will result in missing peaks by an hour, which if you’re a utility trying to schedule enough generation in the summer to meet the next hour’s air conditioning loads in a city, this is not so bueno.  I think the reason this is a product of the model is that a large fraction of the training samples used to build the model are <em>not</em> peaks, save for the <a href="http://localhost:4000/articles/Guess-What-Time-Justin-Wakes-Up">6am wake-up time</a>. </p>

<p>Below are the same results, just resampled to daily instead of hourly.</p>

<figure>
  <a href="http://localhost:4000/images/SVM_predict_DailyTotal.png"><img src="http://localhost:4000/images/SVM_predict_DailyTotal.png" /></a>
  <figcaption>Hourly demand (actual and predicted) resampled to daily totals.</figcaption>
</figure>

<h3 id="accuracy-measures">Accuracy Measures</h3>

<p>In order to compare the accuracy of any models, the following measures can be used.</p>

<h4 id="root-mean-sqaure-error">Root Mean Sqaure Error</h4>

<p><img src="http://latex.codecogs.com/png.latex?\Delta T" alt="\Delta T" /></p>

<h4 id="mape">MAPE</h4>

<h4 id="cv">CV</h4>

<h4 id="mean-bias-error">Mean Bias Error</h4>


      <hr />
      <footer role="contentinfo">
        <div class="article-author-bottom">
          <!--<img src="http://localhost:4000/images/" class="bio-photo" alt="Justin Elszasz bio photo"></a>-->
<h3>Justin Elszasz</h3>
<p>Engineering background, indeterminate foreground.</p>

<a href="http://facebook.com/jtelszasz" class="author-social" target="_blank"><i class="icon-facebook"></i> Facebook</a>

<a href="http://linkedin.com/in/justinelszasz" class="author-social" target="_blank"><i class="icon-linkedin"></i> LinkedIn</a>

<a href="http://github.com/jtelszasz" class="author-social" target="_blank"><i class="icon-github"></i> Github</a>


        </div>
        <p class="byline"><strong>Closer Look at the Electricity SVR Forecast</strong> was published on <time datetime="2014-05-11T00:00:00-04:00" itemprop="datePublished">May 11, 2014</time> and last modified on <time datetime="2014-05-11" itemprop="dateModified">May 11, 2014</time> by <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name"><a href="http://localhost:4000/about" title="About Justin Elszasz" itemprop="url">Justin Elszasz</a></span></span>.</p>
      </footer>
    </div><!-- /.article-wrap -->
  </article>
</div><!-- /#main -->

<div class="footer-wrap">
  <div class="related-articles">
  <h4>You might also enjoy <small class="pull-right">(<a href="http://localhost:4000/articles">View all articles</a>)</small></h4>
    <ul>
    
      
      
      
    
      
      
        
          
        
      
      
      <li><a href="http://localhost:4000/articles/Predicting-Energy-Use-with-Support-Vector-Machines" title="Forecasting with Machine Learning">Forecasting with Machine Learning</a></li>
      
    
      
      
        
          
        
      
      
      <li><a href="http://localhost:4000/articles/Autocorrelation" title="Electricity Usage Autocorrelation">Electricity Usage Autocorrelation</a></li>
      
    
    </ul>
    <hr />
  </div><!-- /.related-articles -->
  <footer>
    <span>&copy; 2014 Justin Elszasz. Powered by <a href="http://jekyllrb.com">Jekyll</a> using the <a href="http://mademistakes.com/">Minimal Mistakes</a> theme.</span>

  </footer>
</div><!-- /.footer-wrap -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://localhost:4000/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://localhost:4000/assets/js/scripts.min.js"></script>
	        

</body>
</html>
