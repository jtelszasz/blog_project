<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en">
<title type="text">The Training Set.</title>
<generator uri="https://github.com/mojombo/jekyll">Jekyll</generator>
<link rel="self" type="application/atom+xml" href="http://www.thetrainingset.com/feed.xml" />
<link rel="alternate" type="text/html" href="http://www.thetrainingset.com" />
<updated>2015-04-12T21:03:28-04:00</updated>
<id>http://www.thetrainingset.com/</id>
<author>
  <name>Justin Elszasz</name>
  <uri>http://www.thetrainingset.com/</uri>
  <email>thetrainingset@gmail.com</email>
</author>


<entry>
  <title type="html"><![CDATA[A City Divided (in N dimensions)]]></title>
 <link rel="alternate" type="text/html" href="http://www.thetrainingset.com/articles/A-City-Divided-In-N-Dimensions" />
  <id>http://www.thetrainingset.com/articles/A-City-Divided-In-N-Dimensions</id>
  <updated>2015-04-12T00:00:00-00:00</updated>
  <published>2015-04-12T00:00:00-04:00</published>
  
  <author>
    <name>Justin Elszasz</name>
    <uri>http://www.thetrainingset.com</uri>
    <email>thetrainingset@gmail.com</email>
  </author>
  <content type="html">&lt;p&gt;It’s no secret that most American cities are segregated.&lt;/p&gt;

&lt;p&gt;When I tell people I live in Baltimore, that I love living there and that it’s a great American city, what I really mean is that the neighborhoods I typically experience are great.  Baltimore of course has its many ills, and it’s very easy for white, college-educated individuals like myself to find themselves experiencing a very different reality than most in the city.&lt;/p&gt;

&lt;p&gt;There are many socio-economic variables that would describe such segregation - something I hinted at with the &lt;a href=&quot;http://www.thetrainingset.com/articles/Know-More-Bmore&quot;&gt;last post&lt;/a&gt;.  Luckily, the&lt;a href=&quot;http://www.bniajfi.org/indicators&quot;&gt; Baltimore Neighborhoods Indicators Alliance - Jacob France Institute (BNIA)&lt;/a&gt; at the University of Baltimore has made it their mission to provide a clean, concise set of indicators that illustrate the health and wealth of the city.  There are 152 socio-economic indicators in the Vital Signs dataset, and some are reported for multiple years which results in 295 total variables for each of the 56 Baltimore neighborhoods captured.  For this analysis, I’m throwing them all in the mixer.&lt;/p&gt;

&lt;p&gt;As you can imagine, many of the variables are strongly correlated with each other (e.g. the percent of the population in a neighborhood that is white is inversely proportional to the percent that aren’t white, so you don’t necessarily need both depending on what you’re trying to do with the data).  Rather than try plotting all of these variables against one another, it’s possible to illustrate the degree to which the city is segregated by distilling the 295 variables into only a couple - in other words, teasing out the principal socio-economic “directions” in which communities may be close or far from each other.&lt;/p&gt;

&lt;p&gt;(If you want to know the technical details of the analysis, check out the link at the bottom of this post to the iPython notebook.  For the sake of anyone reading this I’ll try and minimize the jargon and explain some of the analysis below the result.)&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;This is the key: by reducing the 295 dimensions in the dataset to only two, we can visualize a socio-economic map of the city. Neighborhoods farther apart on the map are socio-economically dissimilar and neighborhoods close to one another on the map are socio-economically similar.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;On the plot below, each bubble is a neighborhood in Baltimore and is sized by the population living in that neighborhood.  One can delineate groups or “clusters” of neighborhoods.  These are clusters of neighborhoods that are more socio-economically similar.  We can specify a number of clusters and using an algorithm (K-means clustering, described below) we can find the best way to divide the neighborhoods into clusters; each color represents a different cluster and the X’s are the centers of each cluster.  The number of clusters I’ve chosen (seven) is somewhat arbitrary.  No axes labels are shown since the actual values output from the principal component analysis (discussed below) are meaningless.&lt;/p&gt;

&lt;p&gt;What results is effectively a socio-economic map of Baltimore.  Use your cursor to hover over each bubble to see the name of the neighborhood.  &lt;strong&gt;Again, the farther apart one bubble is from another, the more socio-economically dissimilar those neighborhoods are.&lt;/strong&gt;  For example, find the “Inner Harbor/Federal Hill” (upper right, orange) and “Greater Rosemont” (West Baltimore, adjacent to Gwynn Falls Park; lower left, purple) neighborhoods.&lt;/p&gt;

&lt;center&gt;
&lt;div&gt;
    &lt;a href=&quot;https://plot.ly/~jtelszasz/230/&quot; target=&quot;_blank&quot; title=&quot;Baltimore Vital Signs PCA w/ K-Means Clustering&quot; style=&quot;display: block; text-align: center;&quot;&gt;&lt;img src=&quot;https://plot.ly/~jtelszasz/230.png&quot; alt=&quot;Baltimore Vital Signs PCA w/ K-Means Clustering&quot; style=&quot;max-width: 100%;width: 600px;&quot; width=&quot;600&quot; onerror=&quot;this.onerror=null;this.src=&#39;https://plot.ly/404.png&#39;;&quot; /&gt;&lt;/a&gt;
    &lt;script data-plotly=&quot;jtelszasz:230&quot; src=&quot;https://plot.ly/embed.js&quot; async=&quot;&quot;&gt;&lt;/script&gt;
&lt;/div&gt;
&lt;/center&gt;

&lt;p&gt;&lt;em&gt;“Wait, there are seven clusters but I’m only counting six different colors.”&lt;/em&gt; &lt;/p&gt;

&lt;p&gt;There’s one point that is its own cluster and it isn’t shown - it’s the “Downtown” neighborhood, and it was a clear outlier.  I’ll dig into this point and see what’s going on, but my guess is that it has to do with the fact that the area is nearly all business and hardly any residences.  &lt;/p&gt;

&lt;h2 id=&quot;principle-component-analysis&quot;&gt;Principle Component Analysis&lt;/h2&gt;

&lt;p&gt;We can reduce the number of variables using a technique known as &lt;a href=&quot;http://en.wikipedia.org/wiki/Principal_component_analysis&quot;&gt;Principal Component Analysis (PCA)&lt;/a&gt;.  PCA reduces the full set of data (the variables of which may be correlated) to uncorrelated, or orthogonal, directions.  (Math folks: these are the eigenvectors of the covariance matrix.)  You can choose the number of dimensions in which you’d like to represent your data - the first dimension chosen will account for the most variance in the data, the next dimension (2nd principal axis) will account for the second highest portion of variance, and so on.  &lt;/p&gt;

&lt;p&gt;To steal an analogy from &lt;a href=&quot;http://en.wikipedia.org/wiki/Brian_Greene&quot;&gt;Brian Greene&lt;/a&gt; on the topic of reducing higher dimensions (I think this was in The Elegant Universe), imagine an ant on a stretched out piece of rope.  From a far away distance, we would likely identify the position of the ant only in terms of its distance from one end of the rope.  If we zoom in closely though, we could describe the ant’s location in two dimensions: both its distance from one end of the rope and its location circumferentially around the rope (a third possible dimension would be the ant’s radial distance from the centerline axis of the rope, but that’s virtually constant unless the ant jumps off the rope).  This same concept can be applied for reducing higher dimensional data in order to visualize relationships in data.  &lt;/p&gt;

&lt;p&gt;We want to reduce the 295 variables in the Vital Signs dataset to two since we want to visualize this in a 2-D scatter plot.&lt;/p&gt;

&lt;h2 id=&quot;k-means-clustering&quot;&gt;K-Means Clustering&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;http://en.wikipedia.org/wiki/K-means_clustering&quot;&gt;K-means clustering&lt;/a&gt; is an algorithm that groups data points into clusters.  One could do this manually, but this algorithm automates the process by minimizing the distances from each data points to the center (centroid) of the cluster.  However, one has to specify the number of clusters for the algorithm to use.  One can imagine that to minimize the distances from each data point to the cluster center, one could set the number of clusters equal to the number of data points, i.e. each point is its own cluster, but this is a trivial solution.  Using a metric (called inertia) that measures the typical distance from points to centers, the algorithm can be run multiple times, each time using a different number of clusters, to try and achieve an acceptable result for the inertia.  I chose seven after plotting the inertia as a function of number of clusters.  This plot can be found in the iPython notebook (link below).&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;&lt;em&gt;Data obtained from &lt;a href=&quot;http://data.baltimorecity.gov/&quot;&gt;Open Baltimore&lt;/a&gt; and the&lt;a href=&quot;http://www.bniajfi.org/indicators&quot;&gt; Baltimore Neighborhoods Indicators Alliance - Jacob France Institute.&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Analysis conducted using &lt;a href=&quot;http://www.python.org&quot;&gt;Python&lt;/a&gt;, &lt;a href=&quot;http://pandas.pydata.org&quot;&gt;Pandas&lt;/a&gt;, and &lt;a href=&quot;http://www.plot.ly&quot;&gt;Plot.ly&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Full analysis IPython notebook can be found &lt;a href=&quot;http://nbviewer.ipython.org/github/jtelszasz/baltimore_vital_signs/blob/master/vital_signs_viz.ipynb&quot;&gt;here&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;

&lt;script&gt;
  (function(i,s,o,g,r,a,m){i[&#39;GoogleAnalyticsObject&#39;]=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,&#39;script&#39;,&#39;//www.google-analytics.com/analytics.js&#39;,&#39;ga&#39;);

  ga(&#39;create&#39;, &#39;UA-58835878-1&#39;, &#39;auto&#39;);
  ga(&#39;send&#39;, &#39;pageview&#39;);

&lt;/script&gt;


  &lt;p&gt;&lt;a href=&quot;http://www.thetrainingset.com/articles/A-City-Divided-In-N-Dimensions&quot;&gt;A City Divided (in N dimensions)&lt;/a&gt; was originally published by Justin Elszasz at &lt;a href=&quot;http://www.thetrainingset.com&quot;&gt;The Training Set.&lt;/a&gt; on April 12, 2015.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[Know More, B'more.]]></title>
 <link rel="alternate" type="text/html" href="http://www.thetrainingset.com/articles/Know-More-Bmore" />
  <id>http://www.thetrainingset.com/articles/Know-More-Bmore</id>
  <updated>2015-03-30T00:00:00-00:00</updated>
  <published>2015-03-30T00:00:00-04:00</published>
  
  <author>
    <name>Justin Elszasz</name>
    <uri>http://www.thetrainingset.com</uri>
    <email>thetrainingset@gmail.com</email>
  </author>
  <content type="html">&lt;p&gt;I took a quick look at the Vital Signs dataset from the&lt;a href=&quot;http://www.bniajfi.org/indicators&quot;&gt; Baltimore Neighborhoods Indicators Alliance - Jacob France Institute (BNIA)&lt;/a&gt; at the University of Baltimore (data also available at &lt;a href=&quot;http://data.baltimorecity.gov/&quot;&gt;Open Baltimore&lt;/a&gt;) and created some &lt;a href=&quot;http://www.gapminder.org/&quot;&gt;Hans Rosling-style plots&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;These are clean datasets of socio-economic indicators derived from the U.S. Census Bureau, American Community Survey and Baltimore agencies, among other sources.  The BNIA has built a &lt;a href=&quot;http://bniajfi.org/vital_signs/&quot;&gt;website for mapping data&lt;/a&gt; and they were rightly lauded for cleaning and opening up this data for public use, but not I’m seeing only a handful of correlations and analysis based on the Vital Signs datasets.&lt;/p&gt;

&lt;center&gt;
&lt;div&gt;
    &lt;a href=&quot;https://plot.ly/~jtelszasz/211/&quot; target=&quot;_blank&quot; title=&quot;Baltimore: Too Many Kids in Poverty&quot; style=&quot;display: block; text-align: center;&quot;&gt;&lt;img src=&quot;https://plot.ly/~jtelszasz/211.png&quot; alt=&quot;Baltimore: Too Many Kids in Poverty&quot; style=&quot;max-width: 100%;width: 500px;&quot; width=&quot;500&quot; onerror=&quot;this.onerror=null;this.src=&#39;https://plot.ly/404.png&#39;;&quot; /&gt;&lt;/a&gt;
    &lt;script data-plotly=&quot;jtelszasz:211&quot; src=&quot;https://plot.ly/embed.js&quot; async=&quot;&quot;&gt;&lt;/script&gt;
&lt;/div&gt;
&lt;/center&gt;

&lt;p&gt;In this first plot, the bubbles are sized according to the total number of children between the ages of 5 and 18 (school age) living in each neighborhood.&lt;/p&gt;

&lt;p&gt;Definitely check out BNIA’s website, and &lt;a href=&quot;http://www.urban.org/UploadedPDF/413219-NNIP-an-Open-Data-in-Baltimore.pdf&quot;&gt;this&lt;/a&gt; is a good synopsis of open data in Baltimore.&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;&lt;em&gt;Data obtained from &lt;a href=&quot;http://data.baltimorecity.gov/&quot;&gt;Open Baltimore&lt;/a&gt; and the&lt;a href=&quot;http://www.bniajfi.org/indicators&quot;&gt; Baltimore Neighborhoods Indicators Alliance - Jacob France Institute.&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Analysis conducted using &lt;a href=&quot;http://www.python.org&quot;&gt;Python&lt;/a&gt;, &lt;a href=&quot;http://pandas.pydata.org&quot;&gt;Pandas&lt;/a&gt;, and &lt;a href=&quot;http://www.plot.ly&quot;&gt;Plot.ly&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Full analysis IPython notebook can be found &lt;a href=&quot;http://nbviewer.ipython.org/github/jtelszasz/baltimore_vital_signs/blob/master/vital_signs_viz.ipynb&quot;&gt;here&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;

&lt;script&gt;
  (function(i,s,o,g,r,a,m){i[&#39;GoogleAnalyticsObject&#39;]=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,&#39;script&#39;,&#39;//www.google-analytics.com/analytics.js&#39;,&#39;ga&#39;);

  ga(&#39;create&#39;, &#39;UA-58835878-1&#39;, &#39;auto&#39;);
  ga(&#39;send&#39;, &#39;pageview&#39;);

&lt;/script&gt;


  &lt;p&gt;&lt;a href=&quot;http://www.thetrainingset.com/articles/Know-More-Bmore&quot;&gt;Know More, B'more.&lt;/a&gt; was originally published by Justin Elszasz at &lt;a href=&quot;http://www.thetrainingset.com&quot;&gt;The Training Set.&lt;/a&gt; on March 30, 2015.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[City Paper Bounces The Training Set Parking Analysis]]></title>
 <link rel="alternate" type="text/html" href="http://www.thetrainingset.com/articles/Baltimore-City-Paper-Bounces-TTS-Analysis" />
  <id>http://www.thetrainingset.com/articles/Baltimore-City-Paper-Bounces-TTS-Analysis</id>
  <updated>2015-03-19T00:00:00-00:00</updated>
  <published>2015-03-19T00:00:00-04:00</published>
  
  <author>
    <name>Justin Elszasz</name>
    <uri>http://www.thetrainingset.com</uri>
    <email>thetrainingset@gmail.com</email>
  </author>
  <content type="html">&lt;p&gt;I was able to get in contact with Edward Ericson Jr. over at Baltimore’s City Paper concerning the &lt;a href=&quot;http://www.citypaper.com/news/mobtownbeat/bcp-victims-of-a-unique-baltimore-parking-problem-fight-the-law-and-the-law-wins-20141216,0,5288351.story&quot;&gt;parking investigation at 4200 Wickford Rd&lt;/a&gt;.  Ed was kind enough to bounce my findings in a &lt;a href=&quot;http://www.citypaper.com/blogs/the-news-hole/bcp-wandering-eye-a-neonoir-crime-blotter-date-on-parking-in-baltimore-and-more-20150305,0,1269875.story&quot;&gt;quick update blurb&lt;/a&gt;.  Full text is below.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Parking being what it is in Baltimore, it’s not surprising that a light-hearted look at the lengths city councilmembers are required to go on behalf of constituents who are inconvenienced by tickets—which City Paper published in December—would be met by data hounds. Now comes Justin Elszasz, who analyzed the city’s parking ticket database to conclude that—surprise—the issue is not so big, in the grand scheme of things. “What is curious is that the open data for parking citations at the 4200 block of Wickford Rd. are not showing a rampant citation issue as the article or residents suggest,” the blog post says, above a bar graph depicting more than 20 citations in April of 2014 and 15 in November-December. But the data looks like exactly the sort of thing the residents complained (and CP wrote) about—sporatic, complaint-driven hard-assery. We were careful not to quantify the damage because we did not have the tools or time to do the analysis Elszasz did. And he confirms what City Paper reported, right down to our tone. We said the residents—who actually have garages on their back alley—are inconvenienced by the law prohibiting them from parking on the curb, facing the wrong way. Elszasz says: “It truly pales in comparison to some of the blocks I’ve been looking at recently. The article claims that parking tickets have appeared in the middle of the night, ‘depicting the parking enforcement agents as thieves in the night.’ It looks like that actually was the case a couple few times - around 4:30am on April 4 and 8, 2014, and around 2:30am on April 18, 2014. But overall, this article and the residents on this block appear to be making something out of nothing. The grand total of fines issued for the 41 citations above is $1,312.” - Edward Ericson Jr.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;
&lt;p&gt;&lt;em&gt;Data obtained from &lt;a href=&quot;http://data.baltimorecity.gov/&quot;&gt;Open Baltimore.&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Analysis conducted using &lt;a href=&quot;http://www.python.org&quot;&gt;Python&lt;/a&gt; and &lt;a href=&quot;http://pandas.pydata.org&quot;&gt;Pandas&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Full analysis IPython notebook can be found &lt;a href=&quot;http://nbviewer.ipython.org/github/jtelszasz/baltimore_citations/blob/master/citation_analysis.ipynb&quot;&gt;here&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;

&lt;script&gt;
  (function(i,s,o,g,r,a,m){i[&#39;GoogleAnalyticsObject&#39;]=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,&#39;script&#39;,&#39;//www.google-analytics.com/analytics.js&#39;,&#39;ga&#39;);

  ga(&#39;create&#39;, &#39;UA-58835878-1&#39;, &#39;auto&#39;);
  ga(&#39;send&#39;, &#39;pageview&#39;);

&lt;/script&gt;


  &lt;p&gt;&lt;a href=&quot;http://www.thetrainingset.com/articles/Baltimore-City-Paper-Bounces-TTS-Analysis&quot;&gt;City Paper Bounces The Training Set Parking Analysis&lt;/a&gt; was originally published by Justin Elszasz at &lt;a href=&quot;http://www.thetrainingset.com&quot;&gt;The Training Set.&lt;/a&gt; on March 19, 2015.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[Which citations do people not care about paying?]]></title>
 <link rel="alternate" type="text/html" href="http://www.thetrainingset.com/articles/Which-Citation-Types-Do-People-Not-Care-About" />
  <id>http://www.thetrainingset.com/articles/Which-Citation-Types-Do-People-Not-Care-About</id>
  <updated>2015-03-16T00:00:00-00:00</updated>
  <published>2015-03-16T00:00:00-04:00</published>
  
  <author>
    <name>Justin Elszasz</name>
    <uri>http://www.thetrainingset.com</uri>
    <email>thetrainingset@gmail.com</email>
  </author>
  <content type="html">&lt;p&gt;The Baltimore citation open data also includes a field for open balance, meaning the amount still owed to the city for each citation.&lt;/p&gt;

&lt;p&gt;With this information we can look at the rates of unpaid citations by citation type.  Below I’ve calculated these ratios for all description types, but have only included for comparison those categories that had more than 100 citations in the database (so we hopefully have meaningful comparisons).&lt;/p&gt;

&lt;h3 id=&quot;news-flash-abandoned-vehicle-citations-are-more-likely-to-be-unpaid&quot;&gt;News flash: abandoned vehicle citations are more likely to be unpaid.&lt;/h3&gt;

&lt;center&gt;
&lt;figure&gt;
  &lt;a href=&quot;http://www.thetrainingset.com/images/2015-03/Percent_Citations_Open_Bal.png&quot;&gt;&lt;img src=&quot;http://www.thetrainingset.com/images/2015-03/Percent_Citations_Open_Bal.png&quot; /&gt;&lt;/a&gt;
  &lt;figcaption&gt;Percent of total citations that have a balance as of February 28, 2015.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/center&gt;

&lt;!--The red light violations, however, should be of particular concern since they pose a safety risk.  While many of us in Baltimore have independently come to the same conclusion that the red lights are poorly timed, this does not excuse ignoring them.  The fact that red light violations have a higher portion of unpaid citations seems to indicate that the perhaps a stiffer penalty increase is warranted in order to curb this behavior.--&gt;

&lt;h2 id=&quot;another-suggestion-for-baltimore-dot-and-mayors-office-of-it&quot;&gt;Another suggestion for Baltimore DOT and Mayor’s Office of IT&lt;/h2&gt;

&lt;p&gt;The dataset that gets posted on &lt;a href=&quot;http://data.baltimorecity.gov&quot;&gt;the Open Baltimore data portal&lt;/a&gt; could really use better documenatation.  Here’s another example of why.  Since the speed camera program was halted in Baltimore, certain citations are no longer captured by this dataset, since parking enforcers don’t issue any kind of moving violations.  Some of those types are still in this dataset, however - a hold over from when the camera program was still in effect.  They should be removed before any analysis or comparisons.  &lt;/p&gt;

&lt;center&gt;
&lt;figure&gt;
  &lt;a href=&quot;http://www.thetrainingset.com/images/2015-03/Ticket_Counts_By_Year.png&quot;&gt;&lt;img src=&quot;http://www.thetrainingset.com/images/2015-03/Ticket_Counts_By_Year.png&quot; /&gt;&lt;/a&gt;
  &lt;figcaption&gt;Total ticket counts by category and year.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/center&gt;

&lt;hr /&gt;
&lt;p&gt;&lt;em&gt;Data obtained from &lt;a href=&quot;http://data.baltimorecity.gov/&quot;&gt;Open Baltimore.&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Analysis conducted using &lt;a href=&quot;http://www.python.org&quot;&gt;Python&lt;/a&gt; and &lt;a href=&quot;http://pandas.pydata.org&quot;&gt;Pandas&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Full analysis IPython notebook can be found &lt;a href=&quot;http://nbviewer.ipython.org/github/jtelszasz/baltimore_citations/blob/master/citation_analysis.ipynb&quot;&gt;here&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;

&lt;script&gt;
  (function(i,s,o,g,r,a,m){i[&#39;GoogleAnalyticsObject&#39;]=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,&#39;script&#39;,&#39;//www.google-analytics.com/analytics.js&#39;,&#39;ga&#39;);

  ga(&#39;create&#39;, &#39;UA-58835878-1&#39;, &#39;auto&#39;);
  ga(&#39;send&#39;, &#39;pageview&#39;);

&lt;/script&gt;


  &lt;p&gt;&lt;a href=&quot;http://www.thetrainingset.com/articles/Which-Citation-Types-Do-People-Not-Care-About&quot;&gt;Which citations do people not care about paying?&lt;/a&gt; was originally published by Justin Elszasz at &lt;a href=&quot;http://www.thetrainingset.com&quot;&gt;The Training Set.&lt;/a&gt; on March 16, 2015.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[DOT Needs More Citation Categories]]></title>
 <link rel="alternate" type="text/html" href="http://www.thetrainingset.com/articles/DOT-Needs-More-Citation-Categories" />
  <id>http://www.thetrainingset.com/articles/DOT-Needs-More-Citation-Categories</id>
  <updated>2015-03-12T00:00:00-00:00</updated>
  <published>2015-03-12T00:00:00-04:00</published>
  
  <author>
    <name>Justin Elszasz</name>
    <uri>http://www.thetrainingset.com</uri>
    <email>thetrainingset@gmail.com</email>
  </author>
  <content type="html">&lt;p&gt;Here’s a suggestion directed at the Department of Transportation for improving their citation system.  &lt;/p&gt;

&lt;p&gt;I’ve alluded to this in previous posts, but this should make it clear as day.  Looking at all citations since February of 2013, the category “All Other Parking Meter Violations” trumps all of the other citation types by a wide margin.  My guess is that, given its prominence, these are citations for time expiring on a parking meter.  But why code it as “all other?”  An “other” option should be a last resort, when all other codes don’t apply.  If parking enforcers are having to use this code so extensively, it suggests that they need more nuanced options for coding parking infringements.  This is essentially information about parking in the city that’s up for grabs and we’re leaving it on the table.&lt;/p&gt;

&lt;center&gt;
&lt;figure&gt;
  &lt;a href=&quot;http://www.thetrainingset.com/images/2015-03/Ticket_Counts_by_Citation_Type.png&quot;&gt;&lt;img src=&quot;http://www.thetrainingset.com/images/2015-03/Ticket_Counts_by_Citation_Type.png&quot; /&gt;&lt;/a&gt;
  &lt;figcaption&gt;Total citation counts in Baltimore by category.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/center&gt;

&lt;hr /&gt;
&lt;p&gt;&lt;em&gt;Data obtained from &lt;a href=&quot;http://data.baltimorecity.gov/&quot;&gt;Open Baltimore.&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Analysis conducted using &lt;a href=&quot;http://www.python.org&quot;&gt;Python&lt;/a&gt; and &lt;a href=&quot;http://pandas.pydata.org&quot;&gt;Pandas&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Full analysis IPython notebook can be found &lt;a href=&quot;http://nbviewer.ipython.org/github/jtelszasz/baltimore_citations/blob/master/citation_analysis.ipynb&quot;&gt;here&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;

&lt;script&gt;
  (function(i,s,o,g,r,a,m){i[&#39;GoogleAnalyticsObject&#39;]=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,&#39;script&#39;,&#39;//www.google-analytics.com/analytics.js&#39;,&#39;ga&#39;);

  ga(&#39;create&#39;, &#39;UA-58835878-1&#39;, &#39;auto&#39;);
  ga(&#39;send&#39;, &#39;pageview&#39;);

&lt;/script&gt;


  &lt;p&gt;&lt;a href=&quot;http://www.thetrainingset.com/articles/DOT-Needs-More-Citation-Categories&quot;&gt;DOT Needs More Citation Categories&lt;/a&gt; was originally published by Justin Elszasz at &lt;a href=&quot;http://www.thetrainingset.com&quot;&gt;The Training Set.&lt;/a&gt; on March 12, 2015.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[When Not To Park On N. Charles St.]]></title>
 <link rel="alternate" type="text/html" href="http://www.thetrainingset.com/articles/When-Not-To-Park-On-Charles" />
  <id>http://www.thetrainingset.com/articles/When-Not-To-Park-On-Charles</id>
  <updated>2015-03-07T00:00:00-00:00</updated>
  <published>2015-03-07T00:00:00-05:00</published>
  
  <author>
    <name>Justin Elszasz</name>
    <uri>http://www.thetrainingset.com</uri>
    <email>thetrainingset@gmail.com</email>
  </author>
  <content type="html">&lt;p&gt;In a recent post I’ve shown particular blocks that became targets for parking enforcement.  The short five block stretch on North Charles Street right around the corner from my apartment is one of those target locations.&lt;/p&gt;

&lt;center&gt;
&lt;figure&gt;
&lt;iframe src=&quot;https://www.google.com/maps/d/embed?mid=z14mtc2vy9S0.k5pYuRXb6j84&quot; width=&quot;640&quot; height=&quot;480&quot;&gt;&lt;/iframe&gt;
&lt;figcaption&gt;Five blocks on North Charles Street that have increasingly become target parking enforcement locations.  Blocks are colored and labeled by difference between September 2013 and March 2014 citation totals.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/center&gt;

&lt;p&gt;So when is that stretch being targeted?  Here are the hourly total citation counts for those five blocks on North Charles St.  Looks like you’re safe before 10am on the weekends, and maybe have a shot if you need a quick spot around 3pm.&lt;/p&gt;

&lt;center&gt;
&lt;figure&gt;
  &lt;a href=&quot;http://www.thetrainingset.com/images/2015-03/N_Charles_by_Hour.png&quot;&gt;&lt;img src=&quot;http://www.thetrainingset.com/images/2015-03/N_Charles_by_Hour.png&quot; /&gt;&lt;/a&gt;
  &lt;figcaption&gt;Hourly total tickets since January 2013 for five blocks of North Charles Street in the Mt. Vernon neighborhood of Baltimore.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/center&gt;

&lt;p&gt;You’re also probably safer on Sundays.&lt;/p&gt;

&lt;center&gt;
&lt;figure&gt;
  &lt;a href=&quot;http://www.thetrainingset.com/images/2015-03/N_Charles_by_Day.png&quot;&gt;&lt;img src=&quot;http://www.thetrainingset.com/images/2015-03/N_Charles_by_Day.png&quot; /&gt;&lt;/a&gt;
  &lt;figcaption&gt;Daily total tickets since January 2013 for five blocks of North Charles Street in the Mt. Vernon neighborhood of Baltimore.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/center&gt;

&lt;h2 id=&quot;dot--baltimore-it-should-provide-new-citation-description-options&quot;&gt;DOT &amp;amp; Baltimore IT Should Provide New Citation Description Options&lt;/h2&gt;

&lt;p&gt;Of course as we’ve seen in the past, parking police are using the “All Other Parking Meter Violations” predominantly, which masks the true cause of the citation.  In this instance, these are metered parking spots so my guess is their time has expired.  This is something that DOT and Baltimore Mayor’s Office of IT could easily provide a new description code for so we know that this is the cause.  &lt;/p&gt;

&lt;center&gt;
&lt;figure&gt;
  &lt;a href=&quot;http://www.thetrainingset.com/images/2015-03/N_Charles_Descriptions.png&quot;&gt;&lt;img src=&quot;http://www.thetrainingset.com/images/2015-03/N_Charles_Descriptions.png&quot; /&gt;&lt;/a&gt;
  &lt;figcaption&gt;Total tickets issued on five blocks of N. Charles St. in Baltimore by description.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/center&gt;

&lt;hr /&gt;
&lt;p&gt;&lt;em&gt;Data obtained from &lt;a href=&quot;http://data.baltimorecity.gov/&quot;&gt;Open Baltimore.&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Analysis conducted using &lt;a href=&quot;http://www.python.org&quot;&gt;Python&lt;/a&gt; and &lt;a href=&quot;http://pandas.pydata.org&quot;&gt;Pandas&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Full analysis IPython notebook can be found &lt;a href=&quot;http://nbviewer.ipython.org/github/jtelszasz/baltimore_citations/blob/master/citation_analysis.ipynb&quot;&gt;here&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;

&lt;script&gt;
  (function(i,s,o,g,r,a,m){i[&#39;GoogleAnalyticsObject&#39;]=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,&#39;script&#39;,&#39;//www.google-analytics.com/analytics.js&#39;,&#39;ga&#39;);

  ga(&#39;create&#39;, &#39;UA-58835878-1&#39;, &#39;auto&#39;);
  ga(&#39;send&#39;, &#39;pageview&#39;);

&lt;/script&gt;


  &lt;p&gt;&lt;a href=&quot;http://www.thetrainingset.com/articles/When-Not-To-Park-On-Charles&quot;&gt;When Not To Park On N. Charles St.&lt;/a&gt; was originally published by Justin Elszasz at &lt;a href=&quot;http://www.thetrainingset.com&quot;&gt;The Training Set.&lt;/a&gt; on March 07, 2015.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[Investigating City Paper's Claims About 4200 Wickford]]></title>
 <link rel="alternate" type="text/html" href="http://www.thetrainingset.com/articles/Baltimore-City-Paper-Article-On-4200-Wickford" />
  <id>http://www.thetrainingset.com/articles/Baltimore-City-Paper-Article-On-4200-Wickford</id>
  <updated>2015-03-03T00:00:00-00:00</updated>
  <published>2015-03-03T00:00:00-05:00</published>
  
  <author>
    <name>Justin Elszasz</name>
    <uri>http://www.thetrainingset.com</uri>
    <email>thetrainingset@gmail.com</email>
  </author>
  <content type="html">&lt;p&gt;Baltimore’s City Paper recently &lt;a href=&quot;http://www.citypaper.com/news/mobtownbeat/bcp-victims-of-a-unique-baltimore-parking-problem-fight-the-law-and-the-law-wins-20141216,0,5288351.story&quot;&gt;took a look at a unique parking situation&lt;/a&gt; in Baltimore at the 4200 block of Wickford Road.  Unfortunately, they didn’t take a peek at the same open data for parking citations I’ve been investigating lately.&lt;/p&gt;

&lt;p&gt;This road is a small two-way street in a quiet, wealthy neighborhood adjacent to the Johns Hopkins University campus called Keswick.  The street is narrow, and so vehicles typically park on either side with their tires past the curb which is illegal.  Apparently they also occasionally park on the left facing the wrong direction.  &lt;/p&gt;

&lt;p&gt;Start here in Google Street View and work your way north - the street is indeed quite narrow and most cars (save for maybe the Smart car) are parked with their two right tires over the curb.  The Smart car and several others are parked on the left side facing the wrong direction.&lt;/p&gt;

&lt;center&gt;
&lt;iframe src=&quot;https://www.google.com/maps/embed?pb=!1m0!3m2!1sen!2sus!4v1425404187666!6m8!1m7!1sgYu398RNv4HjfPUXZxCNiQ!2m2!1d39.339469!2d-76.627132!3f28.763235779444777!4f-26.84351693465949!5f0.7820865974627469&quot; width=&quot;600&quot; height=&quot;450&quot; frameborder=&quot;0&quot; style=&quot;border:0&quot;&gt;&lt;/iframe&gt;
&lt;/center&gt;

&lt;p&gt;What is curious is that the &lt;a href=&quot;https://data.baltimorecity.gov/Transportation/Parking-Citations/n4ma-fj3m&quot;&gt;open data for parking citations&lt;/a&gt; at the 4200 block of Wickford Rd. are not showing a rampant citation issue as the article or residents suggest.&lt;/p&gt;

&lt;center&gt;
&lt;figure&gt;
  &lt;a href=&quot;http://www.thetrainingset.com/images/2015-03/4200_Wickford.png&quot;&gt;&lt;img src=&quot;http://www.thetrainingset.com/images/2015-03/4200_Wickford.png&quot; /&gt;&lt;/a&gt;
&lt;/figure&gt;
&lt;/center&gt;

&lt;p&gt;In fact, here is the full list of citations at the 4200 block of Wickford Rd. from the parking citation data.&lt;/p&gt;

&lt;center&gt;
&lt;figure&gt;
  &lt;a href=&quot;http://www.thetrainingset.com/images/2015-03/4200_Wickford_Citation_Table.png&quot;&gt;&lt;img src=&quot;http://www.thetrainingset.com/images/2015-03/4200_Wickford_Citation_Table.png&quot; /&gt;&lt;/a&gt;
&lt;/figure&gt;
&lt;/center&gt;

&lt;p&gt;It truly pales in comparison to some of the &lt;a href=&quot;http://www.thetrainingset.com/articles/Rapid-Increase-In-Citations/&quot;&gt;blocks I’ve been looking at recently&lt;/a&gt;.  The article claims that parking tickets have appeared in the middle of the night, “depicting the parking enforcement agents as thieves in the night.”  It looks like that actually was the case a couple few times - around 4:30am on April 4 and 10, 2014, and around 2:30am on April 18, 2014.  But overall, this article and the residents on this block appear to be making something out of nothing.  The grand total of fines issued for the 41 citations above is $1,312.&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;&lt;em&gt;Data obtained from &lt;a href=&quot;http://data.baltimorecity.gov/&quot;&gt;Open Baltimore.&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Analysis conducted using &lt;a href=&quot;http://www.python.org&quot;&gt;Python&lt;/a&gt; and &lt;a href=&quot;http://pandas.pydata.org&quot;&gt;Pandas&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Full analysis IPython notebook can be found &lt;a href=&quot;http://nbviewer.ipython.org/github/jtelszasz/baltimore_citations/blob/master/citation_analysis.ipynb&quot;&gt;here&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;

&lt;script&gt;
  (function(i,s,o,g,r,a,m){i[&#39;GoogleAnalyticsObject&#39;]=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,&#39;script&#39;,&#39;//www.google-analytics.com/analytics.js&#39;,&#39;ga&#39;);

  ga(&#39;create&#39;, &#39;UA-58835878-1&#39;, &#39;auto&#39;);
  ga(&#39;send&#39;, &#39;pageview&#39;);

&lt;/script&gt;


  &lt;p&gt;&lt;a href=&quot;http://www.thetrainingset.com/articles/Baltimore-City-Paper-Article-On-4200-Wickford&quot;&gt;Investigating City Paper's Claims About 4200 Wickford&lt;/a&gt; was originally published by Justin Elszasz at &lt;a href=&quot;http://www.thetrainingset.com&quot;&gt;The Training Set.&lt;/a&gt; on March 03, 2015.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[Biasing Citations Towards Those Who Pay]]></title>
 <link rel="alternate" type="text/html" href="http://www.thetrainingset.com/articles/Daily-Unpaid-Citations" />
  <id>http://www.thetrainingset.com/articles/Daily-Unpaid-Citations</id>
  <updated>2015-02-27T00:00:00-00:00</updated>
  <published>2015-02-27T00:00:00-05:00</published>
  
  <author>
    <name>Justin Elszasz</name>
    <uri>http://www.thetrainingset.com</uri>
    <email>thetrainingset@gmail.com</email>
  </author>
  <content type="html">&lt;p&gt;Unless this dataset is somehow &lt;a href=&quot;http://www.thetrainingset.com/articles/Quick-Response-From-Baltimore-Chief-Data-Officer/&quot;&gt;still screwed up&lt;/a&gt;, there was a stark shift in behavior that coincided with the explosion of parking citations issued in Baltimore.  &lt;/p&gt;

&lt;center&gt;
&lt;figure&gt;
  &lt;a href=&quot;http://www.thetrainingset.com/images/2015-02/Daily_Citations_Unpaid.png&quot;&gt;&lt;img src=&quot;http://www.thetrainingset.com/images/2015-02/Daily_Citations_Unpaid.png&quot; /&gt;&lt;/a&gt;
&lt;/figure&gt;
&lt;/center&gt;

&lt;p&gt;The plot above shows the perentage of tickets (daily) that remain unpaid over time.  The trend in 2014 makes sense: practically 100% of the tickets issued yesterday would be unpaid.  One would expect that the further back in time one looks, less tickets would have an outstanding balance.  This is certainly the case looking back as far as January 2014, and I’ve added a dashed line to continue the expected trend further backwards in time.&lt;/p&gt;

&lt;p&gt;But what actually happens looking back further than January 2014 is quite different.  According to these data, the proportion of unpaid tickets increases almost to almost 70% when looking back the full two years.  70% of tickets from 2 years ago unpaid, while 10% from a year ago unpaid?  This seems fishy.  I can imagine four possibilities as to why we see this in the data.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;strong&gt;Dataset is still screwed up.&lt;/strong&gt; Occam’s razor.  Q.E.D.  I asked Baltimore Chief Data Officer to check it out and will follow up soon.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Increase in penalties that incentivized prompt payment.&lt;/strong&gt;  &lt;a href=&quot;http://archive.baltimorecity.gov/portals/0/charter%20and%20Codes/code/Art%2031%20-%20Transit&amp;amp;Traff.pdf&quot;&gt; Article 31 Subtitle 36 of the Baltimore City Code&lt;/a&gt; establishes the fines for parking violations, and §36-22   in particular sets forth the penalties that accrue when deliquent.  Right now the penalties are set at the lesser of $16 per month delinquent or ten times the amount of the original fine.  It looks like the last time this section was modified was through Ordinance 10-302, but as far as I can tell this actually added the 10X cap on penalties so this can’t be it. &lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Parking ticket amnesty.&lt;/strong&gt; &lt;a href=&quot;http://archive.baltimorecity.gov/portals/0/charter%20and%20Codes/code/Art%2031%20-%20Transit&amp;amp;Traff.pdf&quot;&gt; Article 31 Subtitle 36 of the Baltimore City Code&lt;/a&gt; (§36-22 specifically) allows for the periodic offering of amnesty from penalties resulting from unpaid tickets.  The amnesty periods last 2 days.  This authority was established in 2003 at which time the first amnesty was offered.  The provisions also establish a ten-year moratorium on amnesties from the time of the first one, so the next one that could have been offered was 2013.  A parking ticket amnesty would certainly reduce the proportion of citations with an outstanding balance and could help explain the trend we see in 2013.  But another amnesty has not yet been offered as of February 2015, so this can’t explain the change in proportion of unpaid tickets we’re seeing.  Moreover, the trend we see in 2013 is across the entire year rather than a dramatic drop over a 2-day period that would result from such an amnesty period.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Change in sampling (behavior of those sampled).&lt;/strong&gt;  Having eliminated options 2 and 3 and assuming the data are clean and reliable, the last option I came up with is that the rapid increase of parking citations in certain locations drastically biased the sample.  It would appear that the strategy of targeting specific locations as I’ve shown in &lt;a href=&quot;&quot;&gt;previous posts&lt;/a&gt; has paid off, since the total fines issued has shot up while the proportion of tickets remaining unpaid has significantly dropped.  This is an indication of a much more effective parking policing policy (revenue generation) by the city, although it likely causes a lot of frustration for those living and parking in the targeted locations.&lt;/li&gt;
&lt;/ol&gt;

&lt;hr /&gt;
&lt;p&gt;&lt;em&gt;Data obtained from &lt;a href=&quot;http://data.baltimorecity.gov/&quot;&gt;Open Baltimore.&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Analysis conducted using &lt;a href=&quot;http://www.python.org&quot;&gt;Python&lt;/a&gt; and &lt;a href=&quot;http://pandas.pydata.org&quot;&gt;Pandas&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;

&lt;script&gt;
  (function(i,s,o,g,r,a,m){i[&#39;GoogleAnalyticsObject&#39;]=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,&#39;script&#39;,&#39;//www.google-analytics.com/analytics.js&#39;,&#39;ga&#39;);

  ga(&#39;create&#39;, &#39;UA-58835878-1&#39;, &#39;auto&#39;);
  ga(&#39;send&#39;, &#39;pageview&#39;);

&lt;/script&gt;


  &lt;p&gt;&lt;a href=&quot;http://www.thetrainingset.com/articles/Daily-Unpaid-Citations&quot;&gt;Biasing Citations Towards Those Who Pay&lt;/a&gt; was originally published by Justin Elszasz at &lt;a href=&quot;http://www.thetrainingset.com&quot;&gt;The Training Set.&lt;/a&gt; on February 27, 2015.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[Rapid Increase in Citations]]></title>
 <link rel="alternate" type="text/html" href="http://www.thetrainingset.com/articles/Rapid-Increase-In-Citations" />
  <id>http://www.thetrainingset.com/articles/Rapid-Increase-In-Citations</id>
  <updated>2015-02-24T00:00:00-00:00</updated>
  <published>2015-02-24T00:00:00-05:00</published>
  
  <author>
    <name>Justin Elszasz</name>
    <uri>http://www.thetrainingset.com</uri>
    <email>thetrainingset@gmail.com</email>
  </author>
  <content type="html">&lt;p&gt;The total number of parking citations in Baltimore exploded between September 2013 and March 2014.  &lt;/p&gt;

&lt;center&gt;
&lt;figure&gt;
  &lt;a href=&quot;http://www.thetrainingset.com/images/2015-02/Total_Monthly_Citations.png&quot;&gt;&lt;img src=&quot;http://www.thetrainingset.com/images/2015-02/Total_Monthly_Citations.png&quot; /&gt;&lt;/a&gt;
  &lt;figcaption&gt;Total monthly citations.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/center&gt;

&lt;p&gt;One can imagine that this explosion resulted from particular areas being targeted, rather than every block in Baltimore experiencing a proportional increase in citations issued.  Below are the top 25 blocks in terms of the difference between parking citations issued in the month of September 2013 and March 2014.&lt;/p&gt;

&lt;center&gt;
&lt;figure&gt;
  &lt;a href=&quot;http://www.thetrainingset.com/images/2015-02/Top_25_Increase_Citations_Sept13_Mar14_Locs.png&quot;&gt;&lt;img src=&quot;http://www.thetrainingset.com/images/2015-02/Top_25_Increase_Citations_Sept13_Mar14_Locs.png&quot; /&gt;&lt;/a&gt;
  &lt;figcaption&gt;Top 25 locations, difference in September 2013 and March 2014 total citations.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/center&gt;

&lt;p&gt;I’ve removed the “U/B” locations from the map below because it isn’t clear exactly which block those were issued on.  I tried reaching out to the Baltimore data people about it but haven’t had luck yet.  I believe they’re University of Baltimore locations, so suffice it to say that University of Baltimore has also become a target for parking enforcement.&lt;/p&gt;

&lt;center&gt;
&lt;iframe src=&quot;https://www.google.com/maps/d/embed?mid=z14mtc2vy9S0.kY9jDpceZb5g&quot; width=&quot;640&quot; height=&quot;480&quot;&gt;&lt;/iframe&gt;
&lt;/center&gt;

&lt;p&gt;The locations are wholly predictable.  The stretch of North Charles Street through Mt. Vernon, Light Street in Federal Hill, Harbor East, Fells Point, and some spots near hospitals.  &lt;/p&gt;

&lt;h2 id=&quot;roland-ave&quot;&gt;5100 Roland Ave.&lt;/h2&gt;

&lt;p&gt;The only one that appears somewhat random is the 5100 block of Roland Avenue.  Citations clearly exploded here…&lt;/p&gt;

&lt;center&gt;
&lt;figure&gt;
  &lt;a href=&quot;http://www.thetrainingset.com/images/2015-02/5100_Roland_Citations.png&quot;&gt;&lt;img src=&quot;http://www.thetrainingset.com/images/2015-02/5100_Roland_Citations.png&quot; /&gt;&lt;/a&gt;
  &lt;figcaption&gt;Total citations for last 2 years at 5100 Roland Ave. by description.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/center&gt;

&lt;p&gt;…and here are the counts of the total citations for the last two years at 5100 Roland Ave. by citation type.&lt;/p&gt;

&lt;center&gt;
&lt;figure&gt;
  &lt;a href=&quot;http://www.thetrainingset.com/images/2015-02/5100_Roland_Desc_Counts.png&quot;&gt;&lt;img src=&quot;http://www.thetrainingset.com/images/2015-02/5100_Roland_Desc_Counts.png&quot; /&gt;&lt;/a&gt;
  &lt;figcaption&gt;Total citations for last 2 years at 5100 Roland Ave. by description.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/center&gt;

&lt;p&gt;“All other parking meter violations” really doesn’t help sort out what the cause is, but looking at the Google Map street view one can see a 2 hour parking sign.  The curb also looks like it’s non-existent, so I’m wondering if people put their tires into the grass and then get cited.&lt;/p&gt;

&lt;center&gt;
&lt;iframe src=&quot;https://www.google.com/maps/embed?pb=!1m0!3m2!1sen!2sus!4v1424798998803!6m8!1m7!1soBC2bNc1uJIKNHPSkBn7ug!2m2!1d39.35523!2d-76.634564!3f223.74393718454644!4f-16.088865868843556!5f0.7820865974627469&quot; width=&quot;600&quot; height=&quot;450&quot; frameborder=&quot;0&quot; style=&quot;border:0&quot;&gt;&lt;/iframe&gt;
&lt;/center&gt;

&lt;h2 id=&quot;lot-jfa&quot;&gt;“400 LOT JFA”&lt;/h2&gt;

&lt;p&gt;I’ve also manually located the “400 LOT JFA” location on the map - I believe this is a parking lot under the Jones Falls Expressway, and the only one near a 400 block address is the one I’ve located.  Looking at the data, the police didn’t even start ticketing at this location until February 2014.  Again, “All other parking meter violations” is the dominant mode of citation, so I really don’t have a clue what might be going on.&lt;/p&gt;

&lt;center&gt;
&lt;figure&gt;
&lt;iframe src=&quot;http://en.parkopedia.com/parking/garage/jones_falls_expressway_jfa/21202/baltimore/?embed=600x400&amp;amp;l=1&amp;amp;tc=1&amp;amp;zc=1&amp;amp;country=US&amp;amp;ts[]=4&amp;amp;ts[]=3&amp;amp;ts[]=2&quot; frameborder=&quot;0&quot; width=&quot;600&quot; height=&quot;400&quot; scrolling=&quot;no&quot;&gt;&lt;a href=&quot;http://en.parkopedia.com/parking/garage/jones_falls_expressway_jfa/21202/baltimore/&quot; title=&quot;Jones Falls Expressway (JFA) - Parking Garage&quot;&gt;Jones Falls Expressway (JFA) - Parking Garage&lt;/a&gt;&lt;/iframe&gt;

&lt;figcaption&gt;Parking lot map courtesy &lt;a href=&quot;http://www.parkopedia.com&quot;&gt;Parkopeida.com&lt;/a&gt;&lt;/figcaption&gt;	
&lt;/figure&gt;
&lt;/center&gt;

&lt;center&gt;
&lt;figure&gt;
  &lt;a href=&quot;http://www.thetrainingset.com/images/2015-02/400_Lot_JFA_Desc_Counts.png&quot;&gt;&lt;img src=&quot;http://www.thetrainingset.com/images/2015-02/400_Lot_JFA_Desc_Counts.png&quot; /&gt;&lt;/a&gt;
  &lt;figcaption&gt;Total citations for last 2 years at 400 lot of Jones Falls Expressway (JFA) by description.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/center&gt;

&lt;hr /&gt;
&lt;p&gt;&lt;em&gt;Data obtained from &lt;a href=&quot;http://data.baltimorecity.gov/&quot;&gt;Open Baltimore.&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Analysis conducted using &lt;a href=&quot;http://www.python.org&quot;&gt;Python&lt;/a&gt; and &lt;a href=&quot;http://pandas.pydata.org&quot;&gt;Pandas&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;


  &lt;p&gt;&lt;a href=&quot;http://www.thetrainingset.com/articles/Rapid-Increase-In-Citations&quot;&gt;Rapid Increase in Citations&lt;/a&gt; was originally published by Justin Elszasz at &lt;a href=&quot;http://www.thetrainingset.com&quot;&gt;The Training Set.&lt;/a&gt; on February 24, 2015.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[Introducing "My Electricity Use" Visualization Page]]></title>
 <link rel="alternate" type="text/html" href="http://www.thetrainingset.com/articles/Buiding-My-Elec-Use-Visualization-Site" />
  <id>http://www.thetrainingset.com/articles/Buiding-My-Elec-Use-Visualization-Site</id>
  <updated>2015-02-16T00:00:00-00:00</updated>
  <published>2015-02-16T00:00:00-05:00</published>
  
  <author>
    <name>Justin Elszasz</name>
    <uri>http://www.thetrainingset.com</uri>
    <email>thetrainingset@gmail.com</email>
  </author>
  <content type="html">&lt;p&gt;This is just a quick blurb to say I’m building a new page for my website for visualizing my electricity usage data.  You can find it in the upper left menu panel by clicking on “&lt;a href=&quot;http://www.thetrainingset.com/my-elec-use/&quot;&gt;My Electricity Use&lt;/a&gt;.”  Right now I’ve just got an interactive heat map up for the hourly data (based on this post).  I’m admittedly slow to the &lt;a href=&quot;http://plot.ly&quot;&gt;Plotly&lt;/a&gt; game, but I’ll be using it a lot more regularly going forward.&lt;/p&gt;


  &lt;p&gt;&lt;a href=&quot;http://www.thetrainingset.com/articles/Buiding-My-Elec-Use-Visualization-Site&quot;&gt;Introducing "My Electricity Use" Visualization Page&lt;/a&gt; was originally published by Justin Elszasz at &lt;a href=&quot;http://www.thetrainingset.com&quot;&gt;The Training Set.&lt;/a&gt; on February 16, 2015.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[My Block is a Target.]]></title>
 <link rel="alternate" type="text/html" href="http://www.thetrainingset.com/articles/My-Block-Is-A-Target" />
  <id>http://www.thetrainingset.com/articles/My-Block-Is-A-Target</id>
  <updated>2015-02-10T00:00:00-00:00</updated>
  <published>2015-02-10T00:00:00-05:00</published>
  
  <author>
    <name>Justin Elszasz</name>
    <uri>http://www.thetrainingset.com</uri>
    <email>thetrainingset@gmail.com</email>
  </author>
  <content type="html">&lt;p&gt;Now that we can be sure of having a &lt;a href=&quot;http://www.thetrainingset.com/articles/Quick-Response-From-Baltimore-Chief-Data-Officer&quot;&gt;complete data set&lt;/a&gt; for the immediately preceding two years, we can take a closer look at parking citation policies and compliance.&lt;/p&gt;

&lt;center&gt;
&lt;figure&gt;
  &lt;a href=&quot;http://www.thetrainingset.com/images/2015-02/Top 10 Monthly Citation Plot 2013-02-01 to 2014-12-31.png&quot;&gt;&lt;img src=&quot;http://www.thetrainingset.com/images/2015-02/Top 10 Monthly Citation Plot 2013-02-01 to 2014-12-31.png&quot; /&gt;&lt;/a&gt;
  &lt;figcaption&gt;Total monthly citations for top 10 types of citation fines issued.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/center&gt;

&lt;p&gt;Since the &lt;a href=&quot;http://www.baltimoresun.com/news/maryland/sun-investigates/bs-md-speed-camera-hearing-20141201-story.html&quot;&gt;traffic camera program ended in Baltimore in 2013&lt;/a&gt; it appears enforcement policies have taken a dramatic turn to make up some of the lost revenue.  Moreover, judging by the spike this past December, I’d hazard a guess that either year-end budgets were looking tight or that goals or quotas had been set at the beginning of the year and were not being met.&lt;/p&gt;

&lt;h2 id=&quot;what-locations-are-they-targeting&quot;&gt;What locations are they targeting?&lt;/h2&gt;

&lt;p&gt;Between January 20, 2013 and January 20, 2015, citations were issued at 38,597 unique locations.  &lt;strong&gt;1.2% of those locations account for 45.8% of the total value of fines issued.&lt;/strong&gt;  What were the target locations?  Here are the top 20 locations in terms of total fines issued.&lt;/p&gt;

&lt;center&gt;
&lt;figure&gt;
  &lt;a href=&quot;http://www.thetrainingset.com/images/2015-02/Top20_Target_Locations.png&quot;&gt;&lt;img src=&quot;http://www.thetrainingset.com/images/2015-02/Top20_Target_Locations.png&quot; /&gt;&lt;/a&gt;
  &lt;figcaption&gt;Top 20 Target Citation Locations.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/center&gt;

&lt;h3 id=&quot;university-of-baltimore&quot;&gt;University of Baltimore&lt;/h3&gt;

&lt;p&gt;I would post a map, but I haven’t been able to confirm that “U/B” is University of Baltimore, especially since some of the street names aren’t near the university.  University students are prime candidates for parking tickets though, so it does make sense that so many citations are issued there.&lt;/p&gt;

&lt;h3 id=&quot;block-of-n-charles-st&quot;&gt;1200 Block of N. Charles St.&lt;/h3&gt;

&lt;p&gt;The 1200 block of N. Charles St. just happens to be the block I live on.  As soon as I discovered that, I had an inkling as to the reason why this would be the case and the data back this up.  This road turns into a major thoroughfare for commuters driving north out of downtown to head back to the ‘burbs, and as far as Charles St. goes this block is probably the block on which cars are most likely to be stopped and blocking traffic due to the number of businesses and close proximity of University of Baltimore.&lt;/p&gt;

&lt;center&gt;
&lt;figure&gt;
  &lt;a href=&quot;http://www.thetrainingset.com/images/2015-02/1200_Block_N_Charles.png&quot;&gt;&lt;img src=&quot;http://www.thetrainingset.com/images/2015-02/1200_Block_N_Charles.png&quot; /&gt;&lt;/a&gt;
  &lt;figcaption&gt;Total fines issued at 1200 block of N. Charles St. in Baltimore, MD between January 20, 2013 and January 20, 2015.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/center&gt;

&lt;p&gt;There’s a Starbucks on one corner with a Chipotle next to it, immediately in front of which there is a bus stop.  In addition to the Starbucks and Chipotle, there are a number of other businesses (frozen yogurt, licquor store, other restaurants) that presumably all take deliveries at regular intervals.  On numerous occasions I’ve walked past and a large truck or semi is parked at the bus stop with a ticket on its windshield.  This would explain at least the “In Transit Zone/Stop,” but I do wonder at how consistent parking police are in their coding of citations.&lt;/p&gt;

&lt;p&gt;Street parking immediately behind the bus stop shown below is prohibited weekdays between 4pm and 6pm, which the data show is another large revenue generator.   &lt;/p&gt;

&lt;center&gt;
&lt;iframe src=&quot;https://www.google.com/maps/embed?pb=!1m0!3m2!1sen!2sus!4v1423505612169!6m8!1m7!1sfA92b-gWtpBw7_rLxBABSQ!2m2!1d39.30448!2d-76.616122!3f141.43900848353474!4f-17.57579463067043!5f0.7820865974627469&quot; width=&quot;600&quot; height=&quot;450&quot; frameborder=&quot;0&quot; style=&quot;border:0&quot;&gt;&lt;/iframe&gt;
&lt;figcaption&gt;Starbucks on 1200 block of N. Charles St. in Baltimore, MD with bus stop.&lt;/figcaption&gt;
&lt;/center&gt;

&lt;p&gt;It’s interesting that such a large number of fines are coded as “No Stopping/Parking Stadium Event Cambden”  since Cambden Yards isn’t nearby or even on Charles St.  Again, makes me wonder at how the parking police are trained to code the infractions.&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;&lt;em&gt;Data obtained from &lt;a href=&quot;http://data.baltimorecity.gov/&quot;&gt;Open Baltimore.&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Analysis conducted using &lt;a href=&quot;http://www.python.org&quot;&gt;Python&lt;/a&gt; and &lt;a href=&quot;http://pandas.pydata.org&quot;&gt;Pandas&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;I recently had my laptop stolen. I don’t feel like purchasing Microsoft Office, so I’m using a combination of Apple Numbers and Google Docs for spreadsheets now.&lt;/em&gt;&lt;/p&gt;


  &lt;p&gt;&lt;a href=&quot;http://www.thetrainingset.com/articles/My-Block-Is-A-Target&quot;&gt;My Block is a Target.&lt;/a&gt; was originally published by Justin Elszasz at &lt;a href=&quot;http://www.thetrainingset.com&quot;&gt;The Training Set.&lt;/a&gt; on February 10, 2015.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[Quick Response from Baltimore Chief Data Officer]]></title>
 <link rel="alternate" type="text/html" href="http://www.thetrainingset.com/articles/Quick-Response-From-Baltimore-Chief-Data-Officer" />
  <id>http://www.thetrainingset.com/articles/Quick-Response-From-Baltimore-Chief-Data-Officer</id>
  <updated>2015-01-23T00:00:00-00:00</updated>
  <published>2015-01-23T00:00:00-05:00</published>
  
  <author>
    <name>Justin Elszasz</name>
    <uri>http://www.thetrainingset.com</uri>
    <email>thetrainingset@gmail.com</email>
  </author>
  <content type="html">&lt;p&gt;Within hours of publishing my last post on &lt;a href=&quot;http://www.thetrainingset.com/articles/Baltimores-Lost-Traffic-Camera-Revenue/&quot;&gt;Baltimore’s parking (etc.) citation dataset&lt;/a&gt;, the issues were corrected thanks to Sharon Paley at &lt;a href=&quot;http://www.hackbaltimore.org&quot;&gt;Hack Baltimore&lt;/a&gt; and Heather Hudson, Baltimore’s Chief Data Officer in the &lt;a href=&quot;http://moit.baltimorecity.gov/Home.aspx&quot;&gt;Mayor’s Office of Information Technology&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Sharon was kind enough to forward my work on to Heather, who removed old and extraneous data and added some description to some of the citation data fields.  With Heather’s permission I’ve excerpted her email below.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;The dataset should, and now does, reflect 2 rolling years of citations and any older citations that still have an outstanding balance. The data was not being updated and purged consistently, resulting in older citations still appearing. These older citation records were likely not updated properly (balance, penalty, etc), so have now been purged from the dataset.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;The reason for the 2 year  limited time frame of the dataset is that the Parking Citations system is housed on a mainframe, which has storage limitations. We are also forced to re-use citation numbers, which necessitates purging of older citation records.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;Thanks to your article, I have added a more informative description of the dataset, as well as short descriptions of the currency columns you mentioned. I hope that this helps users better understand the data presented.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;so-what-do-the-data-look-like-now&quot;&gt;So what do the data look like now?&lt;/h2&gt;

&lt;center&gt;
&lt;div&gt;&lt;iframe width=&quot;500px&quot; title=&quot;Parking Citations&quot; height=&quot;425px&quot; src=&quot;https://data.baltimorecity.gov/w/n4ma-fj3m/ta62-x9wp?cur=i5SwBTR0Hvd&amp;amp;from=root&quot; frameborder=&quot;0&quot; scrolling=&quot;no&quot;&gt;&lt;a href=&quot;https://data.baltimorecity.gov/Transportation/Parking-Citations/n4ma-fj3m&quot; title=&quot;Parking Citations&quot; target=&quot;_blank&quot;&gt;Parking Citations&lt;/a&gt;&lt;/iframe&gt;&lt;p&gt;&lt;a href=&quot;http://www.socrata.com/&quot; target=&quot;_blank&quot;&gt;Powered by Socrata&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;
&lt;/center&gt;

&lt;p&gt;I exported another csv file the evening of January 21 that resulted in 1,004,288 rows (compared to about 2.7 million rows previously, meaning &lt;strong&gt;63% of the dataset was erroneous and discarded&lt;/strong&gt;).  Total fines issued in the whole datset now amount to just over $48 million.  &lt;/p&gt;

&lt;center&gt;
&lt;figure&gt;
  &lt;a href=&quot;http://www.thetrainingset.com/images/2015-01/Top10_Monthly_Citation_TS_NEW_2015-01-21.png&quot;&gt;&lt;img src=&quot;http://www.thetrainingset.com/images/2015-01/Top10_Monthly_Citation_TS_NEW_2015-01-21.png&quot; /&gt;&lt;/a&gt;
  &lt;figcaption&gt;Total monthly citations for top 10 revenue generators.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/center&gt;

&lt;h2 id=&quot;why-are-there-still-data-in-here-from-before-january-21-2013-2-years-before-the-date-i-downloaded-this-set&quot;&gt;Why are there still data in here from before January 21, 2013 (2 years before the date I downloaded this set)?&lt;/h2&gt;

&lt;p&gt;Well, you wouldn’t want to remove information about citations that haven’t been paid in full yet.  484,146 records (out of just over 1 million, or about half) are from before 2 years ago because they haven’t been paid in full.  I confirmed that there are zero records for which the import date is more than two years old and does not have an outstanding balance (if going by the violation date, there are 16 records as of Jan. 21, 2015 older than two years with a zero balance in the database).  &lt;/p&gt;

&lt;p&gt;What this means is that we effectively have two datasets here: one for accounts with open balances from before the rolling 2 year date and one for all citations (regardless of balance) for the last 2 years rolling.  Lumping them all together wouldn’t yield apples-to-apples comparisons or indicate policy changes properly since we’re missing citation records that have been paid and were issued/imported more than two years ago.  We can however do this with the data for the most recent 2 years.  I suppose the pre-2-years ago data could be considered the “delinquent” batch and data for the most recent 2 years could be called the “full 2 year” batch.&lt;/p&gt;

&lt;h2 id=&quot;how-much-money-is-owed-to-the-city&quot;&gt;How much money is owed to the city?&lt;/h2&gt;

&lt;p&gt;This is the kicker.  Looking only at the old citations prior to January 21, 2013?  The outstanding balance is &lt;strong&gt;$102,384,876.00&lt;/strong&gt;, and that’s on citations that would have originally been worth only $23,873,386.00.  In other words, for still-open tickets prior to January 21, 2013, the city is owed more than &lt;strong&gt;4 times the value&lt;/strong&gt; of the initial citations.  Wonder if the city has a plan of attack for reeling some of this in?  The wages of parking police probably pale in comparsion to the value of these citations, so maybe they see this as free money that they’ll never make the effort to get, having already paid the overhead. Of course there are logistical and legal challenges to enforcing these as well, but this is surely money the city of Baltimore could use.&lt;/p&gt;

&lt;p&gt;Thanks again to Sharon at Hack Baltimore and Heather, our city’s Chief Data Officer, for helping to keep our government’s open data clean, current and useful.&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;&lt;em&gt;Data obtained from &lt;a href=&quot;http://data.baltimorecity.gov/&quot;&gt;Open Baltimore.&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Analysis conducted using &lt;a href=&quot;http://www.python.org&quot;&gt;Python&lt;/a&gt;, &lt;a href=&quot;http://pandas.pydata.org&quot;&gt;Pandas&lt;/a&gt;, and Microsoft Excel.&lt;/em&gt;&lt;/p&gt;


  &lt;p&gt;&lt;a href=&quot;http://www.thetrainingset.com/articles/Quick-Response-From-Baltimore-Chief-Data-Officer&quot;&gt;Quick Response from Baltimore Chief Data Officer&lt;/a&gt; was originally published by Justin Elszasz at &lt;a href=&quot;http://www.thetrainingset.com&quot;&gt;The Training Set.&lt;/a&gt; on January 23, 2015.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[The Lost Revenue of the Baltimore Traffic Cameras]]></title>
 <link rel="alternate" type="text/html" href="http://www.thetrainingset.com/articles/Baltimores-Lost-Traffic-Camera-Revenue" />
  <id>http://www.thetrainingset.com/articles/Baltimores-Lost-Traffic-Camera-Revenue</id>
  <updated>2015-01-21T00:00:00-00:00</updated>
  <published>2015-01-21T00:00:00-05:00</published>
  
  <author>
    <name>Justin Elszasz</name>
    <uri>http://www.thetrainingset.com</uri>
    <email>thetrainingset@gmail.com</email>
  </author>
  <content type="html">&lt;p&gt;The title of the dataset I’m working with on Baltimore’s &lt;a href=&quot;http://data.baltimorecity.gov/&quot;&gt;open data portal&lt;/a&gt; is “Parking Citations.”  I downloaded a snapshot of the dataset which ended up being 2,689,647 total citations through January 12, 2015. &lt;/p&gt;

&lt;center&gt;
&lt;div&gt;&lt;iframe width=&quot;500px&quot; title=&quot;Parking Citations&quot; height=&quot;425px&quot; src=&quot;https://data.baltimorecity.gov/w/n4ma-fj3m/ta62-x9wp?cur=i5SwBTR0Hvd&amp;amp;from=root&quot; frameborder=&quot;0&quot; scrolling=&quot;no&quot;&gt;&lt;a href=&quot;https://data.baltimorecity.gov/Transportation/Parking-Citations/n4ma-fj3m&quot; title=&quot;Parking Citations&quot; target=&quot;_blank&quot;&gt;Parking Citations&lt;/a&gt;&lt;/iframe&gt;&lt;p&gt;&lt;a href=&quot;http://www.socrata.com/&quot; target=&quot;_blank&quot;&gt;Powered by Socrata&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;
&lt;/center&gt;

&lt;p&gt;But parking is not the only thing captured in this set. Traffic camera violations are also here (“Fixed Speed Cameras,” “Mobile Speed Cameras,” and probably some “Red Light Violations” and “Right on Red” citations) which were far and away the city’s largest revenue generator out of all of the infraction types captured here.  The fixed speed cameras alone issued nearly $28 million in citations over a three year period, until the &lt;a href=&quot;http://www.baltimoresun.com/news/maryland/sun-investigates/bs-md-speed-camera-hearing-20141201-story.html&quot;&gt;program was ended&lt;/a&gt;.  The last two rows appear to be one-off citations.  It’s also curious that the last record of a “Snow Emergency Route Violation” was in August. In Baltimore.&lt;/p&gt;

&lt;center&gt;
&lt;figure&gt;
  &lt;a href=&quot;http://www.thetrainingset.com/images/2015-01/citation_desc_date_range_OLD.png&quot;&gt;&lt;img src=&quot;http://www.thetrainingset.com/images/2015-01/citation_desc_date_range_OLD.png&quot; /&gt;&lt;/a&gt;
  &lt;figcaption&gt;Citation descriptions sorted by total fines.  Highlighted in red are the least recent dates of the last recorded citation and the shortest data time spans, respectively.  Highlighted in green are the largest annual revenue generators.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/center&gt;

&lt;p&gt;This all isn’t quite syncing up with what the &lt;a href=&quot;http://www.baltimoresun.com/news/maryland/sun-investigates/bs-md-speed-camera-hearing-20141201-story.html&quot;&gt;Baltimore Sun reported&lt;/a&gt; about the traffic camera program.  According to this article, the traffic camera program generated about $140 million over 10 years.  The data contained in Baltimore’s open data portal must be incomplete, since I’m seeing a total of about $127 million for all violation types, not just cameras.  &lt;/p&gt;

&lt;p&gt;To show this a bit more dramatically, here’s the time series of total monthly citations issued for the top 10 revenue generator categories.  It’s pretty clear that the data are incomplete since the traffic camera categories should have dominated for 10 years straight, and we’re seeing no significant records before 2007, even though the earliest start dates shown in the table above show dates typically starting in 2002-2003, with “Red Light Violations” starting in 1999.  Unfortunately, the Baltimore open data portal does not provide a data dictionary or substantive description of what all is contained in the dataset and what each field represents.  For example, in addition to “violFine,” there are “balance,” “openFine,” and “openPenalty” fields which all include “$” signs in the records to indicate currency.  These aren’t defined anywhere.&lt;/p&gt;

&lt;center&gt;
&lt;figure&gt;
  &lt;a href=&quot;http://www.thetrainingset.com/images/2015-01/Top10_Monthly_Citation_TS_OLD.png&quot;&gt;&lt;img src=&quot;http://www.thetrainingset.com/images/2015-01/Top10_Monthly_Citation_TS_OLD.png&quot; /&gt;&lt;/a&gt;
  &lt;figcaption&gt;Total monthly citations for top 10 revenue generators.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/center&gt;

&lt;p&gt;I wouldn’t say that the lack of definitions and descriptions of the data render them completely useless, but it does make it more difficult to make apples-to-apples comparisons and draw conclusions.&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;This is a new section I’m adding, inspired by Ben Wellington’s excellent blog &lt;a href=&quot;http://iquantny.tumblr.com&quot;&gt;I Quant NY&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Data obtained from &lt;a href=&quot;http://data.baltimorecity.gov/&quot;&gt;Open Baltimore.&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Analysis conducted using &lt;a href=&quot;http://www.python.org&quot;&gt;Python&lt;/a&gt;, &lt;a href=&quot;http://pandas.pydata.org&quot;&gt;Pandas&lt;/a&gt;, and Microsoft Excel.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Inspiration from &lt;a href=&quot;http://iquantny.tumblr.com&quot;&gt;I Quant NY&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;

  &lt;p&gt;&lt;a href=&quot;http://www.thetrainingset.com/articles/Baltimores-Lost-Traffic-Camera-Revenue&quot;&gt;The Lost Revenue of the Baltimore Traffic Cameras&lt;/a&gt; was originally published by Justin Elszasz at &lt;a href=&quot;http://www.thetrainingset.com&quot;&gt;The Training Set.&lt;/a&gt; on January 21, 2015.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[Importing Lots of CSV's]]></title>
 <link rel="alternate" type="text/html" href="http://www.thetrainingset.com/articles/Importing-CSV-Files" />
  <id>http://www.thetrainingset.com/articles/Importing-CSV-Files</id>
  <updated>2015-01-08T00:00:00-00:00</updated>
  <published>2015-01-08T00:00:00-05:00</published>
  
  <author>
    <name>Justin Elszasz</name>
    <uri>http://www.thetrainingset.com</uri>
    <email>thetrainingset@gmail.com</email>
  </author>
  <content type="html">&lt;p&gt;I find myself importing a slew of comma-separated value (csv) files quite often so I wrote up a quick bit of code to handle it.  &lt;/p&gt;

&lt;p&gt;It’s uber-simple - just loops through all the csv’s in a directory, appends them to one Pandas dataframe, and saves the new csv.  It also tacks on the filenames of each file if separating into the original files is needed later.  This also assumes all the fields are named exactly the same in all the csv files.  Sure beats reading each individually and merging after.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;pandas&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;pd&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;glob&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;data_csv&amp;#39;&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;allFiles&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;glob&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;glob&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;/*.csv&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pd&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;DataFrame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;filename&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;enumerate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;allFiles&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;df_file&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pd&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read_csv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;filename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;skiprows&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;df_file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;filename&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;filename&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;df_file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;file_ID&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;df&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df_file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;to_csv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;full_dataset.csv&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


  &lt;p&gt;&lt;a href=&quot;http://www.thetrainingset.com/articles/Importing-CSV-Files&quot;&gt;Importing Lots of CSV's&lt;/a&gt; was originally published by Justin Elszasz at &lt;a href=&quot;http://www.thetrainingset.com&quot;&gt;The Training Set.&lt;/a&gt; on January 08, 2015.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[Excessive Data Visualization]]></title>
 <link rel="alternate" type="text/html" href="http://www.thetrainingset.com/articles/More-Pointless-Data-Viz" />
  <id>http://www.thetrainingset.com/articles/More-Pointless-Data-Viz</id>
  <updated>2014-12-25T00:00:00-00:00</updated>
  <published>2014-12-25T00:00:00-05:00</published>
  
  <author>
    <name>Justin Elszasz</name>
    <uri>http://www.thetrainingset.com</uri>
    <email>thetrainingset@gmail.com</email>
  </author>
  <content type="html">&lt;p&gt;Christmas Day.  I’m bored.  &lt;/p&gt;

&lt;center&gt;
&lt;figure&gt;
  &lt;a href=&quot;http://www.thetrainingset.com/images/2014-12/Average_Days_thru_Nov_2014.png&quot;&gt;&lt;img src=&quot;http://www.thetrainingset.com/images/2014-12/Average_Days_thru_Nov_2014.png&quot; /&gt;&lt;/a&gt;
  &lt;figcaption&gt;Average daily electricity usage.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/center&gt;

&lt;center&gt;
&lt;figure&gt;
  &lt;a href=&quot;http://www.thetrainingset.com/images/2014-12/Days_thru_Nov_2014.png&quot;&gt;&lt;img src=&quot;http://www.thetrainingset.com/images/2014-12/Days_thru_Nov_2014.png&quot; /&gt;&lt;/a&gt;
  &lt;figcaption&gt;All days and average consumption.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/center&gt;


  &lt;p&gt;&lt;a href=&quot;http://www.thetrainingset.com/articles/More-Pointless-Data-Viz&quot;&gt;Excessive Data Visualization&lt;/a&gt; was originally published by Justin Elszasz at &lt;a href=&quot;http://www.thetrainingset.com&quot;&gt;The Training Set.&lt;/a&gt; on December 25, 2014.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[Assessing Demand-Side Storage System Performance]]></title>
 <link rel="alternate" type="text/html" href="http://www.thetrainingset.com/articles/Assessing-System-Performance" />
  <id>http://www.thetrainingset.com/articles/Assessing-System-Performance</id>
  <updated>2014-11-14T00:00:00-00:00</updated>
  <published>2014-11-14T00:00:00-05:00</published>
  
  <author>
    <name>Justin Elszasz</name>
    <uri>http://www.thetrainingset.com</uri>
    <email>thetrainingset@gmail.com</email>
  </author>
  <content type="html">&lt;p&gt;By varying parameters of the &lt;a href=&quot;http://www.thetrainingset.com/articles/Intro-To-Storage-Model&quot;&gt;demand-side storage model&lt;/a&gt; we can determine the economic plausibility and benefits of home grid-tied batteries.  &lt;/p&gt;

&lt;p&gt;While the actual logic and functions are in separate Python modules, I’m doing this analysis in an &lt;a href=&quot;http://nbviewer.ipython.org/github/jtelszasz/demandside_storage/blob/master/analysis.ipynb&quot;&gt;iPython notebook&lt;/a&gt; that you can check out for more detail and thought process.&lt;/p&gt;

&lt;p&gt;I set up some of summary metrics I was interested in in the &lt;a href=&quot;http://www.thetrainingset.com/articles/Storage-Model-Details&quot;&gt;last post&lt;/a&gt; .  One that I didn’t have on that list that is an important economic indicator is the simple payback period, which is the number of years it would take to break even on the initial investment based on the yearly savings.&lt;/p&gt;

&lt;center&gt;
&lt;img src=&quot;http://latex.codecogs.com/png.latex?PBP=\frac{Initial%20Investment}{Annual%20Variable%20Cost%20Savings}&quot; alt=&quot;PBP=\frac{Initial%20Investment}{Annual%20Variable%20Cost%20Savings}&quot; /&gt;
&lt;/center&gt;

&lt;p&gt;The summary metrics I’ve calculated should indicate the benefits of having a home battery system to the consumer/household as well as the grid (system operator and grid).  Of course, these are going to be particular to the load profile I’m using (Green Button sample data), but another one-year hourly load profile could easily be supplanted to see how it would work out for other buildings.  &lt;/p&gt;

&lt;h2 id=&quot;summary-metrics-v-storage-capacity&quot;&gt;Summary Metrics v. Storage Capacity&lt;/h2&gt;

&lt;p&gt;One question that can be asked of the model is how certain summary metrics vary with the total battery capacity.  For example, an increase in battery size would allow the building to purchase more of the cheaper electricity during off-peak hours increasing the annual savings, but the initial investment also increases.  &lt;/p&gt;

&lt;p&gt;All of the other parameters are held constant, with battery and inverter efficiencies during charging and discharging all set to 0.85 (the “inverter_efficiency” and “battery_efficiency” below are function handles).  The charge rate estimate is assuming it take 8 hours to fully charge the battery.  I’ve estimated the cost of deep-discharge lead acid batteries as being about $166 per kilowatt-hour of storage (based on a quick Amazon.com search that dug up $200 for a 1.2 kWh battery).  The model currently isn’t sophisticated enough to vary the charge and discharge rates based on voltage and current as should be done, but this should suffice for a rough estimate.  For an initial estimate, I also have not factored in battery replacement to the payback period, though this should have a substantial effect and I’ll need to do this at some point.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;n&quot;&gt;system_param&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;&amp;#39;Inverter Cost&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;1500.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;# ballpark&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;&amp;#39;Storage Cost&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;200.&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;1.2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;# cost per kilowatt-hour based on link above&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;&amp;#39;Storage Size&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;bat_size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;c&quot;&gt;# storage size in kilowatt-hours&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;&amp;#39;Max Charge Rate&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;bat_size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;8.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;&amp;#39;Max DOD&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;max_dod&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;# DOD&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;&amp;#39;Bat Depleted&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;max_dod&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;bat_size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;&amp;#39;Inverter Efficiency&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;inverter_efficiency&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;&amp;#39;Battery Efficiency&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;battery_efficiency&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;In the &lt;a href=&quot;http://nbviewer.ipython.org/github/jtelszasz/demandside_storage/blob/master/analysis.ipynb&quot;&gt;analysis notebook&lt;/a&gt; I create an array with all of the battery sizes, and loop through them each time setting the bat_size variable to the next size in the array.  Each time, the model creates the output over the entire year (all 8,760 hours) and then calculates the summary metrics.  The result is a dataframe of all the summary metrics indexed by summary size.&lt;/p&gt;

&lt;center&gt;
&lt;figure&gt;
  &lt;a href=&quot;http://www.thetrainingset.com/images/2014-11/metrics_snapshot_stor_cap.jpg&quot;&gt;&lt;img src=&quot;http://www.thetrainingset.com/images/2014-11/metrics_snapshot_stor_cap.jpg&quot; /&gt;&lt;/a&gt;
  &lt;figcaption&gt;Simple payback period for demand-side storage (home battery) system.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/center&gt;

&lt;p&gt;Now it’s easy to create some plots to illustrate how these metrics change with storage capacity.&lt;/p&gt;

&lt;h3 id=&quot;cost-savings-and-payback-period&quot;&gt;Cost Savings and Payback Period&lt;/h3&gt;

&lt;p&gt;The expectation is that there are diminishing returns, since there is a limited number of peak hours energy demand that can be supplied by electricity purchased during off-peak hours, while of course the amount of battery storage we can purchase is unlimited.  Based on this plot, the most storage we should purchase is 15 kWh worth.  The percent savings calculated is with respect to the default static BGE residential electricity prices, in other words what this home would have paid over the course of the year in electricity supplied (not including fixed tariffs and charges).&lt;/p&gt;

&lt;center&gt;
&lt;figure&gt;
  &lt;a href=&quot;http://www.thetrainingset.com/images/2014-11/cost_savings_stor_cap.png&quot;&gt;&lt;img src=&quot;http://www.thetrainingset.com/images/2014-11/cost_savings_stor_cap.png&quot; /&gt;&lt;/a&gt;
  &lt;figcaption&gt;Annual cost savings for demand-side storage (home battery) system.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/center&gt;

&lt;p&gt;In general, the payback periods are a bit longer than I thought they would be.  There’s a clear optimum solution at a storage capacity of 5 kWh with the payback period being about 14.5 years.  What’s really driving the cost effectiveness (I think) is the difference between the peak and off-peak cost of electricity.  A wider difference between these prices will make it more cost effective to purchase storage and electricity during off-peak hours.&lt;/p&gt;

&lt;center&gt;
&lt;figure&gt;
  &lt;a href=&quot;http://www.thetrainingset.com/images/2014-11/PBP_stor_cap.png&quot;&gt;&lt;img src=&quot;http://www.thetrainingset.com/images/2014-11/PBP_stor_cap.png&quot; /&gt;&lt;/a&gt;
  &lt;figcaption&gt;Simple payback period for demand-side storage (home battery) system.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/center&gt;

&lt;h3 id=&quot;grid-benefits-load-shaving&quot;&gt;Grid Benefits (Load Shaving)&lt;/h3&gt;

&lt;p&gt;This pretty closely mirrors the cost savings, and understandably so since the costs are directly proportional to the amount of electricity being removed from peak-hours and purchased instead during off-peak hours.  At 15 kWh of storage we’ve just about maxed out the amount of peak time kilowatt-hours we can shave, which is all off the electricity demand for this house occuring during peak hours.  This is about 1800 kWh for this house’s load profile.&lt;/p&gt;

&lt;center&gt;
&lt;figure&gt;
  &lt;a href=&quot;http://www.thetrainingset.com/images/2014-11/peak_shaved_stor_cap.png&quot;&gt;&lt;img src=&quot;http://www.thetrainingset.com/images/2014-11/peak_shaved_stor_cap.png&quot; /&gt;&lt;/a&gt;
  &lt;figcaption&gt;Peak load shaving for demand-side storage (home battery) system.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/center&gt;

&lt;h3 id=&quot;efficiency&quot;&gt;Efficiency&lt;/h3&gt;

&lt;p&gt;Since electricity purchased simultanesously with demand (not shifted using storage) doesn’t go through any other equipment, the system’s efficiency is effectively 100% since all the electricity purchased goes directly to the serve the demand.  However, electricity purchased during off-peak hours for use at a later time first goes through the inverter to become DC, then is stored in the battery (also lossy), and takes the opposite process on the way out.  That means that the quantity of kilowatt-hours purchased from the grid becomes higher as more electricity is bought and stored.  For this reason, the “efficiency” (the total annual kWh demand divided by the total kWh purchased from the grid) drops as storage size increases. &lt;/p&gt;

&lt;center&gt;
&lt;figure&gt;
  &lt;a href=&quot;http://www.thetrainingset.com/images/2014-11/sys_eff_stor_cap.png&quot;&gt;&lt;img src=&quot;http://www.thetrainingset.com/images/2014-11/sys_eff_stor_cap.png&quot; /&gt;&lt;/a&gt;
  &lt;figcaption&gt;Total kWh purchased during year for demand-side storage (home battery) system.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/center&gt;

&lt;p&gt;This is an important (albeit predictable) result since it means we’ve effectively increased the carbon footprint of the home, assuming the electricity mix is dominated by carbon-intensive power sources.  What such a system could allow for, however, is that intermittent renewable resources could more readily integrate with storage acting as a buffer between demand and intermittent supply.&lt;/p&gt;


  &lt;p&gt;&lt;a href=&quot;http://www.thetrainingset.com/articles/Assessing-System-Performance&quot;&gt;Assessing Demand-Side Storage System Performance&lt;/a&gt; was originally published by Justin Elszasz at &lt;a href=&quot;http://www.thetrainingset.com&quot;&gt;The Training Set.&lt;/a&gt; on November 14, 2014.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[Demand Heat Map]]></title>
 <link rel="alternate" type="text/html" href="http://www.thetrainingset.com/articles/Heat-Map" />
  <id>http://www.thetrainingset.com/articles/Heat-Map</id>
  <updated>2014-11-11T00:00:00-00:00</updated>
  <published>2014-11-11T00:00:00-05:00</published>
  
  <author>
    <name>Justin Elszasz</name>
    <uri>http://www.thetrainingset.com</uri>
    <email>thetrainingset@gmail.com</email>
  </author>
  <content type="html">&lt;p&gt;Opower posted &lt;a href=&quot;http://blog.opower.com/2014/09/ami-data-integration/&quot;&gt;a heat map of hourly electricity demand&lt;/a&gt; that I wanted to replicate for our data. &lt;/p&gt;

&lt;center&gt;
&lt;figure&gt;
  &lt;a href=&quot;http://www.thetrainingset.com/images/2014-11/my_usage_heatmap.png&quot;&gt;&lt;img src=&quot;http://www.thetrainingset.com/images/2014-11/my_usage_heatmap.png&quot; /&gt;&lt;/a&gt;
  &lt;figcaption&gt;Hourly heat map of our electricity usage.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/center&gt;

&lt;p&gt;This makes changes in hourly trends over the course of the year readily apparent, and even highlights differences day to day.  The 6am/7am peak is pretty clear, as are the evening hours in the summer.  Between midnight a 4am, the usage is clearly higher (deeper yellow) in the summer as well due to AC load.&lt;/p&gt;

  &lt;p&gt;&lt;a href=&quot;http://www.thetrainingset.com/articles/Heat-Map&quot;&gt;Demand Heat Map&lt;/a&gt; was originally published by Justin Elszasz at &lt;a href=&quot;http://www.thetrainingset.com&quot;&gt;The Training Set.&lt;/a&gt; on November 11, 2014.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[Storage Model Details]]></title>
 <link rel="alternate" type="text/html" href="http://www.thetrainingset.com/articles/Storage-Model-Details" />
  <id>http://www.thetrainingset.com/articles/Storage-Model-Details</id>
  <updated>2014-10-09T00:00:00-00:00</updated>
  <published>2014-10-09T00:00:00-04:00</published>
  
  <author>
    <name>Justin Elszasz</name>
    <uri>http://www.thetrainingset.com</uri>
    <email>thetrainingset@gmail.com</email>
  </author>
  <content type="html">&lt;p&gt;This post fills in some more details of the &lt;a href=&quot;http://www.thetrainingset.com/articles/Intro-To-Storage-Model&quot;&gt;demand-side storage model&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;In the last post I presented a flow chart of how the logic works but didn’t give a diagram of what the physical system might look like.  That’s below.&lt;/p&gt;

&lt;center&gt;
&lt;figure&gt;
  &lt;a href=&quot;http://www.thetrainingset.com/images/2014-10/physical_system.jpg&quot;&gt;&lt;img src=&quot;http://www.thetrainingset.com/images/2014-10/physical_system.jpg&quot; /&gt;&lt;/a&gt;
  &lt;figcaption&gt;Demand-side storage physical system.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/center&gt;

&lt;p&gt;I’ve illustrated the switch as being a separate component so we can see that electricity could bypass actually being inverted and stored (electricity from the grid sometimes goes directly to the demand).  In reality, the inverter/switch/charge controller would be one system.  This unit and the batteries would be the initial costs for the system.&lt;/p&gt;

&lt;h2 id=&quot;model-parameters&quot;&gt;Model Parameters&lt;/h2&gt;

&lt;p&gt;For electricity going straight to serve demand (not being stored first), there are essentially no additonal losses.  However, batteries only accept DC electricity, so we need an inverter to turn the AC off the grid to DC and back.  There are losses associated with this conversion, and the batteries themselves are lossy.  For now I’ve set these efficiencies as constants, but implemented them in functions so they could in the future get more sophisticated modeling (charging efficiency for batteries is dependent on depth of charge).  The nominal efficiency values are taken from &lt;a href=&quot;http://www.amazon.com/Renewable-Efficient-Electric-Power-Systems/dp/0471280607/ref=sr_1_2?ie=UTF8&amp;amp;qid=1412769771&amp;amp;sr=8-2&amp;amp;keywords=renewable+and+efficient+electric+power+systems&quot;&gt;Renewable and Efficient Electric Power Systems by Gilbert Masters&lt;/a&gt;.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;inverter_efficiency&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;direction&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;direction&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;charging&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;eff&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;85&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;elif&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;direction&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;discharging&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;eff&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;85&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;eff&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;battery_efficiency&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;direction&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;direction&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;charging&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;eff&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;85&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;elif&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;direction&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;discharging&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;eff&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;85&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;eff&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;There are also several other system parameters that need to be initialized, including the size of the storage, costs, etc.  In future analyses these variables can be varied to assess the effects on costs and energy.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;n&quot;&gt;inverter_controller_cost&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;2000.&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;# ballpark&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;storage_cost_perkWh&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;200.&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;1.2&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;# cost per kWh; amazon.com lead-acid deep cycle&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;storage_size_kWh&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;9.&lt;/span&gt;  &lt;span class=&quot;c&quot;&gt;# storage size in kWh&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;P_max_charge&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;100.&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;3.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;12.&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;1000.&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;# C/3 charge rate at 12 V (converted to kW)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;E_min_depth&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;0.2&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;# maximum depth of discharge in percent&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;E_min&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;E_min_depth&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;storage_size_kWh&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2 id=&quot;results&quot;&gt;Results&lt;/h2&gt;

&lt;p&gt;Once the model has calculated all the energy flows for each hour over the course of the year, I calculate a set of key properties of the system behavior.  These results are shown in the table below.  These are the characteristics I’ll be interested in as the system parameters described above are varied (though I may modify this set).&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;’% Peak Demand Battery’: Percent of the total peak demand over the year served from the battery&lt;/li&gt;
  &lt;li&gt;’% Peak kWh Shaved’: Percent of the total demand during peak hours removed from the grid&lt;/li&gt;
  &lt;li&gt;’% Purchased During Off-Peak’: Percent of annual electricity purchased during off-peak hours&lt;/li&gt;
  &lt;li&gt;’% Purchased During Peak’: Percent of annual electricity purchased during peak hours&lt;/li&gt;
  &lt;li&gt;‘Annual System Eff’: Total annual demand divided by total annual electricity purchased&lt;/li&gt;
  &lt;li&gt;‘Annual Var Cost’: Annual electricity cost&lt;/li&gt;
  &lt;li&gt;‘Hours Battery Depleted’: Number of hours in the year that battery is drained to maximum depth of discharge&lt;/li&gt;
  &lt;li&gt;‘Hours Battery Full’: Number of hours in the year that battery is fully charged&lt;/li&gt;
  &lt;li&gt;‘Hours on Battery Only’: Number of hours in the year that demand is served by battery alone&lt;/li&gt;
  &lt;li&gt;‘Initial Cost’: Initial system cost (inverter + batteries)&lt;/li&gt;
  &lt;li&gt;‘Peak kWh Shaved’: Total electricity during peak hours removed from the grid&lt;/li&gt;
  &lt;li&gt;‘Total kWh Purchased’: Total annual electricity purchased&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Below are some initial values from the simulation with a storage size of 9 kWh.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;   &lt;span class=&quot;s&quot;&gt;&amp;#39;% Peak Demand Battery&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;0.62841144933029902&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;&amp;#39;% Peak kWh Shaved&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;0.54435814423603923&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;&amp;#39;% Purchased During Off-Peak&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;0.90852312473716113&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;&amp;#39;% Purchased During Peak&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;0.091476875262838833&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;&amp;#39;Annual System Eff&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;0.93101271339465896&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;&amp;#39;Annual Var Cost&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;572.33&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;&amp;#39;Hours Battery Depleted&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1087&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;&amp;#39;Hours Battery Full&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1863&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;&amp;#39;Hours on Battery Only&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1169&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;&amp;#39;Initial Cost&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;3500.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;&amp;#39;Peak kWh Shaved&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;979.38848750000284&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;&amp;#39;Total kWh Purchased&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;8961.5382045414281&lt;/span&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;For these initial values, what stood out to me was that I removed 54% of the residence’s annual peak demand from the grid (this is the ‘% Peak kWh Shaved’).  This is the reason utilities might want to think about incentivizing residential customers to purchase grid-tied battery systems such as this (beyond just the time-of-use-pricing incentive itself).  I should say that the current model is agnostic to exactly which peak hours load is being shaved from - it just uses the battery first until it’s depleted and then switches to grid during peak hours.  Utilities would want to be a bit more sensitive to this, since their peak time-of-use currently starts at 10am weekdays in the summer but the actual “peak” won’t hit until around 4pm.  In the current model I’ve created, the battery is used up first so I wouldn’t be shaving peak load at 4pm.  This could be addressed with some logic that is a bit more clever than what I’ve currently got.&lt;/p&gt;


  &lt;p&gt;&lt;a href=&quot;http://www.thetrainingset.com/articles/Storage-Model-Details&quot;&gt;Storage Model Details&lt;/a&gt; was originally published by Justin Elszasz at &lt;a href=&quot;http://www.thetrainingset.com&quot;&gt;The Training Set.&lt;/a&gt; on October 09, 2014.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[Intro to Storage Model]]></title>
 <link rel="alternate" type="text/html" href="http://www.thetrainingset.com/articles/Intro-To-Storage-Model" />
  <id>http://www.thetrainingset.com/articles/Intro-To-Storage-Model</id>
  <updated>2014-09-23T00:00:00-00:00</updated>
  <published>2014-09-23T00:00:00-04:00</published>
  
  <author>
    <name>Justin Elszasz</name>
    <uri>http://www.thetrainingset.com</uri>
    <email>thetrainingset@gmail.com</email>
  </author>
  <content type="html">&lt;p&gt;Buying lead-acid batteries and switching to one of &lt;a href=&quot;http://www.thetrainingset.com/articles/BGE-Pricing&quot;&gt;BGE’s time-of-use pricing plans&lt;/a&gt; may be a very good idea indeed.&lt;/p&gt;

&lt;p&gt;BGE (and many other utilities in the U.S.) are now offering a time-of-use pricing plan in which the price you pay for electricity depends on what time of day or season you are purchasing it.  This is one of the so-called “demand-side strategies” that could help utilities reduce peak loads and prevent blackouts.  In a &lt;a href=&quot;http://www.thetrainingset.com/articles/Should-I-Switch-To-TOU-Pricing&quot;&gt;previous post&lt;/a&gt;, I looked at whether it would make financial sense for me to switch over to one of these plans.&lt;/p&gt;

&lt;p&gt;One can imagine taking further advantage of these plans by purchasing most or all electricity during off-peak (cheap) hours without having to buy much or any during peak hours.  In order to explore how this might work and how beneficial it would be, I built a model in Python that simulates the hourly energy flows for a home with lead-acid battery storage.&lt;/p&gt;

&lt;p&gt;There are two sources of data that drive the model.  First, I’ve used one of the &lt;a href=&quot;http://www.thetrainingset.com/articles/Feeding-The-Data-Monster&quot;&gt;Green Button sample data files&lt;/a&gt;, specifically the one for an inland, single-family residence.  This is an hourly electricity demand profile for the whole residential building for all of 2011.  Second, I’ve again used &lt;a href=&quot;http://www.thetrainingset.com/articles/BGE-Pricing&quot;&gt;BGE’s time-of-use pricing schemes&lt;/a&gt; to determine peak hours and costs.  Some of the ideas are based on &lt;a href=&quot;http://sel.columbia.edu/matlab-assignment-1&quot;&gt;a Matlab assignment I worked on in grad school&lt;/a&gt;.  While I no longer have access to the top tier journals (Elsevier is a capitalist racket), I did find a couple papers &lt;a href=&quot;https://www.thlab.net/wp-content/uploads/publications/pub_19.pdf&quot;&gt;here&lt;/a&gt; and &lt;a href=&quot;http://www.ecs.umass.edu/~irwin/smartcharge.pdf&quot;&gt;here&lt;/a&gt; that are using similar algorithms.&lt;/p&gt;

&lt;p&gt;I’ve drawn out a flow chart to show how the model works.  During off-peak times, the demand is served directly from the grid and if the battery isn’t full, extra energy is purchased to charge the battery (there is a maximum rate at which this can occur).  During peak times, energy is first used out of the battery to serve the demand.  Only when the battery is drained (to an acceptable charge level, say 30%) is energy then purchased from the grid to serve demand directly.  No energy is purchased to charge the battery during peak hours.&lt;/p&gt;

&lt;center&gt;
&lt;figure&gt;
  &lt;a href=&quot;http://www.thetrainingset.com/images/2014-09/Demand-Side Storage Model Flow Chart.jpg&quot;&gt;&lt;img src=&quot;http://www.thetrainingset.com/images/2014-09/Demand-Side Storage Model Flow Chart.jpg&quot; /&gt;&lt;/a&gt;
  &lt;figcaption&gt;Flow chart for storage simulation.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/center&gt;

&lt;p&gt;If seeing the logic implemented in code would help, it’s below.  I’m not going to put all those functions below as well, needless to say they assign the proper values at each hour.  You could also get them from me on &lt;a href=&quot;https://github.com/jtelszasz/demandside_storage&quot;&gt;Github&lt;/a&gt;.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;results&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;USAGE&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])):&lt;/span&gt;

        &lt;span class=&quot;c&quot;&gt;# If at the end of the time series, break out&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;results&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;USAGE&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;

        &lt;span class=&quot;c&quot;&gt;# Peak hours operation&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;elif&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;results&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;period&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;peak&amp;#39;&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;results&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;period&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;int&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;

            &lt;span class=&quot;c&quot;&gt;# If there is enough available in the battery, use it first&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;results&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;storage_available&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;E_min&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;results&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;USAGE&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]:&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;results&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;peak_battery_only&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;results&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

            &lt;span class=&quot;c&quot;&gt;# Otherwise, use up remainder in battery and then buy from grid&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;results&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;peak_battery_and_grid&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;results&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

        &lt;span class=&quot;c&quot;&gt;# Off-peak hours operation&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;

            &lt;span class=&quot;c&quot;&gt;# If the battery isn&amp;#39;t full...&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;results&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;storage_available&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;storage_size_kWh&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;

                &lt;span class=&quot;c&quot;&gt;# ... top off the battery if it is nearly full...&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;storage_size_kWh&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;results&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;storage_available&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;P_max_charge&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;results&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;offpeak_store_to_cap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;results&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                
                &lt;span class=&quot;c&quot;&gt;# ... otherwise, charge as much as possible in one hour.&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;                    
                    &lt;span class=&quot;n&quot;&gt;results&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;offpeak_store_partial&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;results&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            
            &lt;span class=&quot;c&quot;&gt;# If the battery is full, then it isn&amp;#39;t necessary to purchase extra.&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;                
                &lt;span class=&quot;n&quot;&gt;results&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;offpeak_battery_full&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;results&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;In the plot below, I’ve shown the behavior of the system for a typical summer day.  Peak hours are shaded.  As you can see, during off-peak hours additional energy is purchased in order to recharge the battery.  During peak hours, the battery is discharged preferentially before purchasing any peak-hour electricity in order to minimize cost.&lt;/p&gt;

&lt;center&gt;
&lt;figure&gt;
  &lt;a href=&quot;http://www.thetrainingset.com/images/2014-09/Daily_Energy_State_13-July-2011.png&quot;&gt;&lt;img src=&quot;http://www.thetrainingset.com/images/2014-09/Daily_Energy_State_13-July-2011.png&quot; /&gt;&lt;/a&gt;
  &lt;figcaption&gt;Model behavior for summer weekday, with peak period shaded in gray.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/center&gt;

&lt;p&gt;In the above plot there are two energy flows from the grid - one going to serve demand directly and the other to storage.  (There are actually three shown since I separate peak from off-peak, but you get the idea.)  To make a bit clearer how much energy is being purchased at each hour, I’ve summed those two quanities and plotted below.  Clearly in the off-peak hours, a bit extra is being purchased to charge the batteries.  During the first part of the peak period, nothing has to be purchased from the grid since the battery is serving the demand.  Once that is depleted, energy has to be purchased during the remainder of the peak period.&lt;/p&gt;

&lt;center&gt;
&lt;figure&gt;
  &lt;a href=&quot;http://www.thetrainingset.com/images/2014-09/Daily_Energy_Purchased_13-July-2011.png&quot;&gt;&lt;img src=&quot;http://www.thetrainingset.com/images/2014-09/Daily_Energy_Purchased_13-July-2011.png&quot; /&gt;&lt;/a&gt;
  &lt;figcaption&gt;Amount of energy purchased in storage model, with peak period shaded in gray.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/center&gt;

&lt;p&gt;It’s important to remember that the actual quantity of killowatt-hours of electricity purchased over the course of the year isn’t different than without storage, it’s just being purchased from the grid at different hours.  The consumer doesn’t need to modify their gluttonous behavior in order to make this work.  The benefit to the consumer is saving money, and the benefit to the utility is shaving peak loads.  &lt;/p&gt;

&lt;p&gt;A bunch of questions are already popping up in my head:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;What is the payback period for the battery system?&lt;/li&gt;
  &lt;li&gt;How do the size of the battery and the peak-off-peak cost differential affect the payback period?&lt;/li&gt;
  &lt;li&gt;What percent of hours/energy over the course of the year come through the storage system as opposed to directly from grid?&lt;/li&gt;
  &lt;li&gt;How much storage is needed so that peak hour electricity is never purchased and how much does this cost?  What is the payback period?&lt;/li&gt;
  &lt;li&gt;How does the cost of the system change with percent of peak-hour demand served by storage?&lt;/li&gt;
&lt;/ul&gt;

  &lt;p&gt;&lt;a href=&quot;http://www.thetrainingset.com/articles/Intro-To-Storage-Model&quot;&gt;Intro to Storage Model&lt;/a&gt; was originally published by Justin Elszasz at &lt;a href=&quot;http://www.thetrainingset.com&quot;&gt;The Training Set.&lt;/a&gt; on September 23, 2014.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[Summer Updates]]></title>
 <link rel="alternate" type="text/html" href="http://www.thetrainingset.com/articles/Summer-Update" />
  <id>http://www.thetrainingset.com/articles/Summer-Update</id>
  <updated>2014-09-22T00:00:00-00:00</updated>
  <published>2014-09-22T00:00:00-04:00</published>
  
  <author>
    <name>Justin Elszasz</name>
    <uri>http://www.thetrainingset.com</uri>
    <email>thetrainingset@gmail.com</email>
  </author>
  <content type="html">&lt;p&gt;It’s been a bit.  Work got busy, I got stalled and needed an IDE, and I developed a new model.&lt;/p&gt;

&lt;p&gt;I didn’t have much time over the summer for this stuff.  My real job got pretty busy.  You don’t care about that though.&lt;/p&gt;

&lt;p&gt;I did get a bit stalled.  As I’ve discussed previously, I’ve used iPython notebooks &lt;a href=&quot;http://www.thetrainingset.com/the-work&quot;&gt;quite a bit&lt;/a&gt; for conducting analyses.  These only got me so far.  I’ve been working on a demand-side storage model to figure out how to take advantage of time-of-use pricing now available from utility companies.  While the notebooks work great for documenting analyses and creating plots, building a model is nearly impossible with them.  They aren’t really useful if you need multiple functions and scripts.  I was encountering bugs early on in building the model and couldn’t fix them.  It was frustrating.&lt;/p&gt;

&lt;p&gt;This type of scientific computing really calls for an integrated development environment, or IDE.  It’s the one thing I’ve been missing since starting in with Python in lieu of Matlab.  An IDE gives you an interactive console, debugging capabilities, and an editor all in one program.  After reading a bit online, it seemed the two big ones for Python were &lt;a href=&quot;http://www.eclipse.org&quot;&gt;Eclipse&lt;/a&gt; and &lt;a href=&quot;http://www.jetbrains.com/pycharm&quot;&gt;Pycharm&lt;/a&gt;.  I started with Eclipse.  I couldn’t for the life of me get it working, something about the external libraries I was using wasn’t getting set up right.  I tried every way imaginable, but this was as frustrating as the original bugs in my code.  I switched to Pycharm, and pretty quickly was up and running.&lt;/p&gt;

&lt;p&gt;Long story short, with an IDE in hand I found my bugs pretty quickly and finished building the model over a weekend.  I definitely recommend Pycharm or another IDE (even trying Eclipse, if you can get it working) for anything more complicated than simple models or exploratory data analysis.  You could even write all your functions and scripts for a model in an IDE and then switch to notebooks for analysis and results of the model.&lt;/p&gt;


  &lt;p&gt;&lt;a href=&quot;http://www.thetrainingset.com/articles/Summer-Update&quot;&gt;Summer Updates&lt;/a&gt; was originally published by Justin Elszasz at &lt;a href=&quot;http://www.thetrainingset.com&quot;&gt;The Training Set.&lt;/a&gt; on September 22, 2014.&lt;/p&gt;</content>
</entry>

</feed>
